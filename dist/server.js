/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 10);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!********************!*\
  !*** ../logger.js ***!
  \********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _appFabricLogger = __webpack_require__(/*! @athena/app-fabric-logger */ 15);\n\nvar _appFabricLogger2 = _interopRequireDefault(_appFabricLogger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar logger = new _appFabricLogger2.default({\n\tprettyPrint: true,\n\tcolorize: true\n});\n\nexports.default = logger;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sb2dnZXIuanM/N2YyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9nZ2VyIGZyb20gJ0BhdGhlbmEvYXBwLWZhYnJpYy1sb2dnZXInO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHtcblx0cHJldHR5UHJpbnQ6IHRydWUsXG5cdGNvbG9yaXplOiB0cnVlLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsb2dnZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"sequelize\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInNlcXVlbGl6ZVwiPzVjZDUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwic2VxdWVsaXplXCJcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!*******************!*\
  !*** ../db/db.js ***!
  \*******************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.db = undefined;\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _book = __webpack_require__(/*! ../models/book.js */ 16);\n\nvar _book2 = _interopRequireDefault(_book);\n\nvar _member = __webpack_require__(/*! ../models/member.js */ 8);\n\nvar _member2 = _interopRequireDefault(_member);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar db = {};\n\ndb.transaction = function () {\n\tvar _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(f, username) {\n\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\twhile (1) {\n\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\t_context.next = 2;\n\t\t\t\t\t\treturn db.initializeDb();\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\t_context.next = 4;\n\t\t\t\t\t\treturn db.sequelize.transaction(f);\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t}, _callee, undefined);\n\t}));\n\n\treturn function (_x, _x2) {\n\t\treturn _ref.apply(this, arguments);\n\t};\n}();\n\nvar initialized = false;\ndb.initializeDb = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n\tvar connectionString, sequelize;\n\treturn regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t\twhile (1) {\n\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\tcase 0:\n\t\t\t\t\tif (!initialized) {\n\t\t\t\t\t\tconnectionString = '';\n\n\t\t\t\t\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\t\t\t\t\t_logger2.default.info('Connecting to test database.');\n\t\t\t\t\t\t\tconnectionString = 'postgres://nvaithyanathan:lkas1234QQ@localhost:5432/library_test';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconnectionString = 'postgres://nvaithyanathan:lkas1234QQ@localhost:5432/library';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsequelize = new _sequelize2.default(connectionString, {\n\t\t\t\t\t\t\tlogging: false,\n\t\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\t\traw: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdb.member = (0, _member2.default)(sequelize);\n\t\t\t\t\t\tdb.book = (0, _book2.default)(sequelize);\n\t\t\t\t\t\tdb.sequelize = sequelize;\n\t\t\t\t\t\tinitialized = true;\n\t\t\t\t\t}\n\n\t\t\t\tcase 1:\n\t\t\t\tcase 'end':\n\t\t\t\t\treturn _context2.stop();\n\t\t\t}\n\t\t}\n\t}, _callee2, undefined);\n}));\n\ndb.syncSchema = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n\tvar force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\tvar params;\n\treturn regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t\twhile (1) {\n\t\t\tswitch (_context3.prev = _context3.next) {\n\t\t\t\tcase 0:\n\t\t\t\t\tparams = { force: force };\n\t\t\t\t\t_context3.next = 3;\n\t\t\t\t\treturn db.initializeDb();\n\n\t\t\t\tcase 3:\n\t\t\t\t\t_context3.next = 5;\n\t\t\t\t\treturn db.member.sync(params);\n\n\t\t\t\tcase 5:\n\t\t\t\t\t_context3.next = 7;\n\t\t\t\t\treturn db.book.sync(params);\n\n\t\t\t\tcase 7:\n\t\t\t\tcase 'end':\n\t\t\t\t\treturn _context3.stop();\n\t\t\t}\n\t\t}\n\t}, _callee3, undefined);\n}));\n\nexports.db = db;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9kYi9kYi5qcz9kMWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXF1ZWxpemUgZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyLmpzJztcbmltcG9ydCBib29rTW9kZWwgZnJvbSAnLi4vbW9kZWxzL2Jvb2suanMnO1xuaW1wb3J0IG1lbWJlck1vZGVsIGZyb20gJy4uL21vZGVscy9tZW1iZXIuanMnO1xuXG5jb25zdCBkYiA9IHt9O1xuXG5kYi50cmFuc2FjdGlvbiA9IGFzeW5jIChmLCB1c2VybmFtZSkgPT4ge1xuXHRhd2FpdCBkYi5pbml0aWFsaXplRGIoKTtcblx0YXdhaXQgZGIuc2VxdWVsaXplLnRyYW5zYWN0aW9uKGYpO1xufTtcblxubGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG5kYi5pbml0aWFsaXplRGIgPSBhc3luYyAoKSA9PiB7XG5cdGlmICghaW5pdGlhbGl6ZWQpIHtcblx0XHRsZXQgY29ubmVjdGlvblN0cmluZyA9ICcnO1xuXHRcdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG5cdFx0XHRsb2dnZXIuaW5mbygnQ29ubmVjdGluZyB0byB0ZXN0IGRhdGFiYXNlLicpO1xuXHRcdFx0Y29ubmVjdGlvblN0cmluZyA9ICdwb3N0Z3JlczovL252YWl0aHlhbmF0aGFuOmxrYXMxMjM0UVFAbG9jYWxob3N0OjU0MzIvbGlicmFyeV90ZXN0Jztcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25uZWN0aW9uU3RyaW5nID0gJ3Bvc3RncmVzOi8vbnZhaXRoeWFuYXRoYW46bGthczEyMzRRUUBsb2NhbGhvc3Q6NTQzMi9saWJyYXJ5Jztcblx0XHR9XG5cblx0XHRjb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGNvbm5lY3Rpb25TdHJpbmcsIHtcblx0XHRcdGxvZ2dpbmc6IGZhbHNlLFxuXHRcdFx0cXVlcnk6IHtcblx0XHRcdFx0cmF3OiB0cnVlLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0XHRkYi5tZW1iZXIgPSBtZW1iZXJNb2RlbChzZXF1ZWxpemUpO1xuXHRcdGRiLmJvb2sgPSBib29rTW9kZWwoc2VxdWVsaXplKTtcblx0XHRkYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5cdFx0aW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHR9XG59O1xuXG5kYi5zeW5jU2NoZW1hID0gYXN5bmMgKGZvcmNlID0gZmFsc2UpID0+IHtcblxuXHRjb25zdCBwYXJhbXMgPSB7IGZvcmNlIH07XG5cdGF3YWl0IGRiLmluaXRpYWxpemVEYigpO1xuXHRhd2FpdCBkYi5tZW1iZXIuc3luYyhwYXJhbXMpO1xuXHRhd2FpdCBkYi5ib29rLnN5bmMocGFyYW1zKTtcblxufTtcblxuZXhwb3J0IHsgZGIgfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBkYi9kYi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBdUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFGQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIj9kMmQyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJleHByZXNzXCJcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!*********************************!*\
  !*** ../middleware/handlers.js ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.requestHandler = undefined;\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _httpStatusCodes = __webpack_require__(/*! http-status-codes */ 5);\n\nvar _httpStatusCodes2 = _interopRequireDefault(_httpStatusCodes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar requestHandler = exports.requestHandler = function () {\n\tvar _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, requestHandlerFunction) {\n\t\tvar result, jsonToReturn;\n\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\twhile (1) {\n\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t\t_context.prev = 1;\n\t\t\t\t\t\t_context.next = 4;\n\t\t\t\t\t\treturn requestHandlerFunction(req);\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tresult = _context.sent;\n\t\t\t\t\t\t_context.next = 13;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\t_context.prev = 7;\n\t\t\t\t\t\t_context.t0 = _context['catch'](1);\n\n\n\t\t\t\t\t\t_logger2.default.error(_context.t0);\n\n\t\t\t\t\t\tresult.status = _httpStatusCodes2.default.BAD_REQUEST;\n\n\t\t\t\t\t\tresult.result = 'Unable to process your request.';\n\n\t\t\t\t\t\tif (_context.t0) {\n\t\t\t\t\t\t\tresult.error = _context.t0.toString();\n\t\t\t\t\t\t}\n\n\t\t\t\t\tcase 13:\n\t\t\t\t\t\tjsonToReturn = {};\n\n\n\t\t\t\t\t\tif (result.json) {\n\n\t\t\t\t\t\t\tjsonToReturn.result = 'Your request has been processed successfully.';\n\t\t\t\t\t\t\tjsonToReturn.data = result.json;\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tjsonToReturn = {\n\t\t\t\t\t\t\t\tresult: result.result\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (result.error) {\n\t\t\t\t\t\t\t\tjsonToReturn.error = result.error.toString();\n\t\t\t\t\t\t\t\tjsonToReturn.data = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_logger2.default.info(JSON.stringify(jsonToReturn));\n\n\t\t\t\t\t\tres.status(result.status).json(jsonToReturn);\n\n\t\t\t\t\tcase 17:\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t}, _callee, undefined, [[1, 7]]);\n\t}));\n\n\treturn function requestHandler(_x, _x2, _x3) {\n\t\treturn _ref.apply(this, arguments);\n\t};\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9taWRkbGV3YXJlL2hhbmRsZXJzLmpzP2UyZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IEh0dHBTdGF0dXMgZnJvbSAnaHR0cC1zdGF0dXMtY29kZXMnO1xuXG5leHBvcnQgY29uc3QgcmVxdWVzdEhhbmRsZXIgPSBhc3luYyAocmVxLCByZXMsIHJlcXVlc3RIYW5kbGVyRnVuY3Rpb24pID0+IHtcblxuXHRsZXQgcmVzdWx0ID0ge307XG5cblx0dHJ5IHtcblxuXHRcdHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyRnVuY3Rpb24ocmVxKTtcblxuXHR9XG5cdGNhdGNoIChlcnJvcikge1xuXG5cdFx0bG9nZ2VyLmVycm9yKGVycm9yKTtcblxuXHRcdHJlc3VsdC5zdGF0dXMgPSBIdHRwU3RhdHVzLkJBRF9SRVFVRVNUO1xuXG5cdFx0cmVzdWx0LnJlc3VsdCA9ICdVbmFibGUgdG8gcHJvY2VzcyB5b3VyIHJlcXVlc3QuJztcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmVzdWx0LmVycm9yID0gZXJyb3IudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0fVxuXG5cdGxldCBqc29uVG9SZXR1cm4gPSB7fTtcblxuXHRpZiAocmVzdWx0Lmpzb24pIHtcblxuXHRcdGpzb25Ub1JldHVybi5yZXN1bHQgPSAnWW91ciByZXF1ZXN0IGhhcyBiZWVuIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuJztcblx0XHRqc29uVG9SZXR1cm4uZGF0YSA9IHJlc3VsdC5qc29uO1xuXG5cdH1cblx0ZWxzZSB7XG5cblx0XHRqc29uVG9SZXR1cm4gPSB7XG5cdFx0XHRyZXN1bHQ6IHJlc3VsdC5yZXN1bHQsXG5cdFx0fTtcblxuXHRcdGlmIChyZXN1bHQuZXJyb3IpIHtcblx0XHRcdGpzb25Ub1JldHVybi5lcnJvciA9IHJlc3VsdC5lcnJvci50b1N0cmluZygpO1xuXHRcdFx0anNvblRvUmV0dXJuLmRhdGEgPSB7fTtcblx0XHR9XG5cdH1cblxuXHRsb2dnZXIuaW5mbyhKU09OLnN0cmluZ2lmeShqc29uVG9SZXR1cm4pKTtcblxuXHRyZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXMpLmpzb24oanNvblRvUmV0dXJuKTtcblxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBtaWRkbGV3YXJlL2hhbmRsZXJzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBTUE7QUFOQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUF1QkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!************************************!*\
  !*** external "http-status-codes" ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"http-status-codes\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImh0dHAtc3RhdHVzLWNvZGVzXCI/MjQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwLXN0YXR1cy1jb2Rlc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImh0dHAtc3RhdHVzLWNvZGVzXCJcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!******************************************!*\
  !*** ../constants/validationMessages.js ***!
  \******************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar bookValidationMessages = exports.bookValidationMessages = {\n\tname: {\n\t\tisEmpty: 'Name of the book cannot be empty, should be a string. ',\n\t\tformatMismatch: 'Name of the book has to contain between 6 and 20 characters and it cannot contain special characters. '\n\t},\n\tauthor: {\n\t\tisEmpty: 'Author of the book cannot be empty and it should be a string. '\n\t},\n\tshelfNumber: {\n\t\tisEmpty: 'Shelf number of the book cannot be empty and it should be a string. '\n\t},\n\tpublishedDate: {\n\t\tisEmpty: 'Published date of the book is not valid. '\n\t},\n\tedition: {\n\t\tisEmpty: 'Edition number of the book is not valid. It has to be a number. '\n\t}\n};\n\nvar memberValidationMessages = exports.memberValidationMessages = {\n\tusername: {\n\t\tisEmpty: 'Username cannot be empty and it should be a string, should be between 6-12 characters/digits. Cannot contain special characters. ',\n\t\tformatMismatch: 'Username should be between 6-12 characters/digits. Cannot contain special characters. '\n\t},\n\tcontactNumber: {\n\t\ttypeMismatch: 'Contact number should be a string. ',\n\t\tformatMismatch: 'Contact number can contain only numbers. '\n\t}\n};\n\nvar commonValidationMessages = exports.commonValidationMessages = {\n\tid: {\n\t\tisNotNumeric: 'Id request parameter can contain only numbers. '\n\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jb25zdGFudHMvdmFsaWRhdGlvbk1lc3NhZ2VzLmpzPzNiOWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGJvb2tWYWxpZGF0aW9uTWVzc2FnZXMgPSB7XG5cdG5hbWU6IHtcblx0XHRpc0VtcHR5OiAnTmFtZSBvZiB0aGUgYm9vayBjYW5ub3QgYmUgZW1wdHksIHNob3VsZCBiZSBhIHN0cmluZy4gJyxcblx0XHRmb3JtYXRNaXNtYXRjaDogJ05hbWUgb2YgdGhlIGJvb2sgaGFzIHRvIGNvbnRhaW4gYmV0d2VlbiA2IGFuZCAyMCBjaGFyYWN0ZXJzIGFuZCBpdCBjYW5ub3QgY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlcnMuICcsXG5cdH0sXG5cdGF1dGhvcjoge1xuXHRcdGlzRW1wdHk6ICdBdXRob3Igb2YgdGhlIGJvb2sgY2Fubm90IGJlIGVtcHR5IGFuZCBpdCBzaG91bGQgYmUgYSBzdHJpbmcuICcsXG5cdH0sXG5cdHNoZWxmTnVtYmVyOiB7XG5cdFx0aXNFbXB0eTogJ1NoZWxmIG51bWJlciBvZiB0aGUgYm9vayBjYW5ub3QgYmUgZW1wdHkgYW5kIGl0IHNob3VsZCBiZSBhIHN0cmluZy4gJyxcblx0fSxcblx0cHVibGlzaGVkRGF0ZToge1xuXHRcdGlzRW1wdHk6ICdQdWJsaXNoZWQgZGF0ZSBvZiB0aGUgYm9vayBpcyBub3QgdmFsaWQuICcsXG5cdH0sXG5cdGVkaXRpb246IHtcblx0XHRpc0VtcHR5OiAnRWRpdGlvbiBudW1iZXIgb2YgdGhlIGJvb2sgaXMgbm90IHZhbGlkLiBJdCBoYXMgdG8gYmUgYSBudW1iZXIuICcsXG5cdH0sXG59O1xuXG5leHBvcnQgY29uc3QgbWVtYmVyVmFsaWRhdGlvbk1lc3NhZ2VzID0ge1xuXHR1c2VybmFtZToge1xuXHRcdGlzRW1wdHk6ICdVc2VybmFtZSBjYW5ub3QgYmUgZW1wdHkgYW5kIGl0IHNob3VsZCBiZSBhIHN0cmluZywgc2hvdWxkIGJlIGJldHdlZW4gNi0xMiBjaGFyYWN0ZXJzL2RpZ2l0cy4gQ2Fubm90IGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzLiAnLFxuXHRcdGZvcm1hdE1pc21hdGNoOiAnVXNlcm5hbWUgc2hvdWxkIGJlIGJldHdlZW4gNi0xMiBjaGFyYWN0ZXJzL2RpZ2l0cy4gQ2Fubm90IGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzLiAnLFxuXHR9LFxuXHRjb250YWN0TnVtYmVyOiB7XG5cdFx0dHlwZU1pc21hdGNoOiAnQ29udGFjdCBudW1iZXIgc2hvdWxkIGJlIGEgc3RyaW5nLiAnLFxuXHRcdGZvcm1hdE1pc21hdGNoOiAnQ29udGFjdCBudW1iZXIgY2FuIGNvbnRhaW4gb25seSBudW1iZXJzLiAnLFxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IGNvbW1vblZhbGlkYXRpb25NZXNzYWdlcyA9IHtcblx0aWQ6IHtcblx0XHRpc05vdE51bWVyaWM6ICdJZCByZXF1ZXN0IHBhcmFtZXRlciBjYW4gY29udGFpbiBvbmx5IG51bWJlcnMuICcsXG5cdH0sXG59XG47XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbnN0YW50cy92YWxpZGF0aW9uTWVzc2FnZXMuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQWRBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQURBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/*!****************************************!*\
  !*** ../validators/commonValidator.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.validateId = undefined;\n\nvar _validator = __webpack_require__(/*! validator */ 19);\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _validationMessages = __webpack_require__(/*! ../constants/validationMessages.js */ 6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validateId = exports.validateId = function validateId(id) {\n\tif (!_validator2.default.isNumeric(id)) {\n\t\tthrow new Error(_validationMessages.commonValidationMessages.id.isNotNumeric);\n\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy92YWxpZGF0b3JzL2NvbW1vblZhbGlkYXRvci5qcz8xOTE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0b3IgZnJvbSAndmFsaWRhdG9yJztcbmltcG9ydCB7IGNvbW1vblZhbGlkYXRpb25NZXNzYWdlcyB9IGZyb20gJy4uL2NvbnN0YW50cy92YWxpZGF0aW9uTWVzc2FnZXMuanMnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVJZCA9IChpZCkgPT4ge1xuXHRpZiAoIXZhbGlkYXRvci5pc051bWVyaWMoaWQpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGNvbW1vblZhbGlkYXRpb25NZXNzYWdlcy5pZC5pc05vdE51bWVyaWMpO1xuXHR9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHZhbGlkYXRvcnMvY29tbW9uVmFsaWRhdG9yLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!***************************!*\
  !*** ../models/member.js ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (sequelizeInstance) {\n\treturn sequelizeInstance.define('member', {\n\t\tusername: {\n\t\t\tfield: 'username',\n\t\t\ttype: _sequelize2.default.STRING(20),\n\t\t\tnotNull: true\n\t\t},\n\t\tnoOfBooksTaken: {\n\t\t\tfield: 'noofbookstaken',\n\t\t\ttype: _sequelize2.default.INTEGER,\n\t\t\tnotNull: true,\n\t\t\tdefaultValue: 0\n\t\t},\n\t\tcontactNumber: {\n\t\t\tfield: 'contactnumber',\n\t\t\ttype: _sequelize2.default.STRING(10)\n\t\t},\n\t\tamountDue: {\n\t\t\tfield: 'amountdue',\n\t\t\ttype: _sequelize2.default.FLOAT,\n\t\t\tnotNull: true,\n\t\t\tdefaultValue: 0\n\t\t},\n\t\tjoinedOn: {\n\t\t\tfield: 'joinedon',\n\t\t\ttype: _sequelize2.default.DATE,\n\t\t\tnotNull: true,\n\t\t\tdefaultValue: function defaultValue() {\n\t\t\t\tvar date = new Date();\n\t\t\t\treturn date.getDate();\n\t\t\t}\n\t\t},\n\t\tunRegisteredYN: {\n\t\t\tfield: 'unregisteredyn',\n\t\t\ttype: _sequelize2.default.BOOLEAN,\n\t\t\tdefaultValue: false\n\t\t}\n\t});\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9tb2RlbHMvbWVtYmVyLmpzPzZlNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuXG5leHBvcnQgZGVmYXVsdCAoc2VxdWVsaXplSW5zdGFuY2UpID0+IHNlcXVlbGl6ZUluc3RhbmNlLmRlZmluZSgnbWVtYmVyJywge1xuXHR1c2VybmFtZToge1xuXHRcdGZpZWxkOiAndXNlcm5hbWUnLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcoMjApLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdH0sXG5cdG5vT2ZCb29rc1Rha2VuOiB7XG5cdFx0ZmllbGQ6ICdub29mYm9va3N0YWtlbicsXG5cdFx0dHlwZTogU2VxdWVsaXplLklOVEVHRVIsXG5cdFx0bm90TnVsbDogdHJ1ZSxcblx0XHRkZWZhdWx0VmFsdWU6IDAsXG5cdH0sXG5cdGNvbnRhY3ROdW1iZXI6IHtcblx0XHRmaWVsZDogJ2NvbnRhY3RudW1iZXInLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcoMTApLFxuXHR9LFxuXHRhbW91bnREdWU6IHtcblx0XHRmaWVsZDogJ2Ftb3VudGR1ZScsXG5cdFx0dHlwZTogU2VxdWVsaXplLkZMT0FULFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdFx0ZGVmYXVsdFZhbHVlOiAwLFxuXHR9LFxuXHRqb2luZWRPbjoge1xuXHRcdGZpZWxkOiAnam9pbmVkb24nLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5EQVRFLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdFx0ZGVmYXVsdFZhbHVlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRcdHJldHVybiBkYXRlLmdldERhdGUoKTtcblx0XHR9LFxuXHR9LFxuXHR1blJlZ2lzdGVyZWRZTjoge1xuXHRcdGZpZWxkOiAndW5yZWdpc3RlcmVkeW4nLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5CT09MRUFOLFxuXHRcdGRlZmF1bHRWYWx1ZTogZmFsc2UsXG5cdH0sXG59KTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG1vZGVscy9tZW1iZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUEvQkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/*!************************!*\
  !*** ../logic/book.js ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nvar _db = __webpack_require__(/*! ../db/db.js */ 2);\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _httpStatusCodes = __webpack_require__(/*! http-status-codes */ 5);\n\nvar _httpStatusCodes2 = _interopRequireDefault(_httpStatusCodes);\n\nvar _bookValidator = __webpack_require__(/*! ../validators/bookValidator.js */ 18);\n\nvar _commonValidator = __webpack_require__(/*! ../validators/commonValidator.js */ 7);\n\nvar _bookProperties = __webpack_require__(/*! ../constants/bookProperties.js */ 20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Book = function () {\n\tfunction Book() {\n\t\t_classCallCheck(this, Book);\n\n\t\t// Need 'this' to be defined to access checkBookAvailability within borrowBook.\n\t\t// All methods were static previously, but 'this' was undefined inside those methods when the methods were passed as arguments to the handler.\n\t\tthis.checkBookAvailability = this.checkBookAvailability.bind(this);\n\t\tthis.getBookAvailability = this.getBookAvailability.bind(this);\n\t}\n\n\t_createClass(Book, [{\n\t\tkey: 'addBook',\n\t\tvalue: function () {\n\t\t\tvar _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req) {\n\t\t\t\tvar bookToAdd, createdBook, existingBook, name, author, edition;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tbookToAdd = req.body;\n\t\t\t\t\t\t\t\tcreatedBook = void 0;\n\t\t\t\t\t\t\t\texistingBook = void 0;\n\n\n\t\t\t\t\t\t\t\t(0, _bookValidator.validateBook)(bookToAdd, { operation: 'add' });\n\n\t\t\t\t\t\t\t\tname = bookToAdd.name, author = bookToAdd.author, edition = bookToAdd.edition;\n\t\t\t\t\t\t\t\t_context.prev = 5;\n\t\t\t\t\t\t\t\t_context.next = 8;\n\t\t\t\t\t\t\t\treturn _db.db.book.findAll({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true),\n\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\tauthor: author,\n\t\t\t\t\t\t\t\t\t\tedition: edition\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\texistingBook = _context.sent;\n\n\t\t\t\t\t\t\t\tif (!(existingBook.length === 0)) {\n\t\t\t\t\t\t\t\t\t_context.next = 15;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context.next = 12;\n\t\t\t\t\t\t\t\treturn _db.db.book.create(_extends({}, bookToAdd, {\n\t\t\t\t\t\t\t\t\tnoOfBooksAvailable: 1\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\tcreatedBook = _context.sent;\n\t\t\t\t\t\t\t\t_context.next = 19;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 15:\n\t\t\t\t\t\t\t\t_context.next = 17;\n\t\t\t\t\t\t\t\treturn _db.db.book.update({\n\t\t\t\t\t\t\t\t\tnoOfBooksAvailable: existingBook[0].noOfBooksAvailable + 1\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: existingBook[0].id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 17:\n\n\t\t\t\t\t\t\t\tcreatedBook = existingBook[0];\n\t\t\t\t\t\t\t\tcreatedBook.noOfBooksAvailable += 1;\n\n\t\t\t\t\t\t\tcase 19:\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.CREATED,\n\t\t\t\t\t\t\t\t\tresult: 'This book has been added to our library.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 22:\n\t\t\t\t\t\t\t\t_context.prev = 22;\n\t\t\t\t\t\t\t\t_context.t0 = _context['catch'](5);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context.t0);\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to create books at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 26:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, this, [[5, 22]]);\n\t\t\t}));\n\n\t\t\tfunction addBook(_x) {\n\t\t\t\treturn _ref.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn addBook;\n\t\t}()\n\t}, {\n\t\tkey: 'getAllBooks',\n\t\tvalue: function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req) {\n\t\t\t\tvar allBooks;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tallBooks = void 0;\n\t\t\t\t\t\t\t\t_context2.prev = 1;\n\t\t\t\t\t\t\t\t_context2.next = 4;\n\t\t\t\t\t\t\t\treturn _db.db.book.findAll({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tallBooks = _context2.sent;\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tjson: allBooks\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t_context2.prev = 8;\n\t\t\t\t\t\t\t\t_context2.t0 = _context2['catch'](1);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context2.t0);\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to fetch books at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context2.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, this, [[1, 8]]);\n\t\t\t}));\n\n\t\t\tfunction getAllBooks(_x2) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn getAllBooks;\n\t\t}()\n\t}, {\n\t\tkey: 'getBook',\n\t\tvalue: function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req) {\n\t\t\t\tvar book;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context3.prev = _context3.next) {\n\t\t\t\t\t\t\tcase 0:\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.id);\n\n\t\t\t\t\t\t\t\tbook = void 0;\n\t\t\t\t\t\t\t\t_context3.prev = 2;\n\t\t\t\t\t\t\t\t_context3.next = 5;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: req.params.id,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tbook = _context3.sent;\n\n\t\t\t\t\t\t\t\tif (book) {\n\t\t\t\t\t\t\t\t\t_context3.next = 10;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.NOT_FOUND,\n\t\t\t\t\t\t\t\t\tresult: 'The requested book is not available now.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tjson: book\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\t_context3.next = 17;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t_context3.prev = 13;\n\t\t\t\t\t\t\t\t_context3.t0 = _context3['catch'](2);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context3.t0);\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to get this book at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context3.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 17:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context3.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee3, this, [[2, 13]]);\n\t\t\t}));\n\n\t\t\tfunction getBook(_x3) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn getBook;\n\t\t}()\n\t}, {\n\t\tkey: 'checkBookAvailability',\n\t\tvalue: function () {\n\t\t\tvar _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(id) {\n\t\t\t\tvar existingBook, availabilityStatus;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context4.prev = _context4.next) {\n\t\t\t\t\t\t\tcase 0:\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(id);\n\n\t\t\t\t\t\t\t\t_context4.prev = 1;\n\t\t\t\t\t\t\t\t_context4.next = 4;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\texistingBook = _context4.sent;\n\n\t\t\t\t\t\t\t\tif (existingBook) {\n\t\t\t\t\t\t\t\t\t_context4.next = 9;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context4.abrupt('return', false);\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\tavailabilityStatus = existingBook.noOfBooksAvailable > 0 ? true : false;\n\t\t\t\t\t\t\t\treturn _context4.abrupt('return', availabilityStatus);\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\t_context4.next = 17;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t_context4.prev = 13;\n\t\t\t\t\t\t\t\t_context4.t0 = _context4['catch'](1);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context4.t0);\n\t\t\t\t\t\t\t\treturn _context4.abrupt('return', 'ERROR');\n\n\t\t\t\t\t\t\tcase 17:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context4.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee4, this, [[1, 13]]);\n\t\t\t}));\n\n\t\t\tfunction checkBookAvailability(_x4) {\n\t\t\t\treturn _ref4.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn checkBookAvailability;\n\t\t}()\n\t}, {\n\t\tkey: 'updateBook',\n\t\tvalue: function () {\n\t\t\tvar _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req) {\n\t\t\t\tvar propertiesToUpdate, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key, propertyKeys, existingBook;\n\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context5.prev = _context5.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tpropertiesToUpdate = {};\n\t\t\t\t\t\t\t\t_iteratorNormalCompletion = true;\n\t\t\t\t\t\t\t\t_didIteratorError = false;\n\t\t\t\t\t\t\t\t_iteratorError = undefined;\n\t\t\t\t\t\t\t\t_context5.prev = 4;\n\n\n\t\t\t\t\t\t\t\tfor (_iterator = Object.keys(req.body)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\t\tkey = _step.value;\n\n\t\t\t\t\t\t\t\t\tif (_bookProperties.bookProperties[key]) {\n\t\t\t\t\t\t\t\t\t\tpropertiesToUpdate[key] = req.body[key];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context5.next = 12;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t_context5.prev = 8;\n\t\t\t\t\t\t\t\t_context5.t0 = _context5['catch'](4);\n\t\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t\t_iteratorError = _context5.t0;\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\t_context5.prev = 12;\n\t\t\t\t\t\t\t\t_context5.prev = 13;\n\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 15:\n\t\t\t\t\t\t\t\t_context5.prev = 15;\n\n\t\t\t\t\t\t\t\tif (!_didIteratorError) {\n\t\t\t\t\t\t\t\t\t_context5.next = 18;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthrow _iteratorError;\n\n\t\t\t\t\t\t\tcase 18:\n\t\t\t\t\t\t\t\treturn _context5.finish(15);\n\n\t\t\t\t\t\t\tcase 19:\n\t\t\t\t\t\t\t\treturn _context5.finish(12);\n\n\t\t\t\t\t\t\tcase 20:\n\t\t\t\t\t\t\t\tpropertyKeys = Object.keys(propertiesToUpdate);\n\n\t\t\t\t\t\t\t\tif (!(propertyKeys.length > 0)) {\n\t\t\t\t\t\t\t\t\t_context5.next = 25;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t(0, _bookValidator.validateBook)(propertiesToUpdate, { operation: 'update' });\n\t\t\t\t\t\t\t\t_context5.next = 26;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 25:\n\t\t\t\t\t\t\t\treturn _context5.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'Received no valid properties to update.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 26:\n\t\t\t\t\t\t\t\t_context5.prev = 26;\n\t\t\t\t\t\t\t\t_context5.next = 29;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: req.params.id,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 29:\n\t\t\t\t\t\t\t\texistingBook = _context5.sent;\n\n\t\t\t\t\t\t\t\tif (existingBook) {\n\t\t\t\t\t\t\t\t\t_context5.next = 34;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context5.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.NOT_FOUND,\n\t\t\t\t\t\t\t\t\tresult: 'The requested book is not available to be updated.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 34:\n\t\t\t\t\t\t\t\t_context5.next = 36;\n\t\t\t\t\t\t\t\treturn _db.db.book.update(propertiesToUpdate, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: req.params.id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 36:\n\t\t\t\t\t\t\t\treturn _context5.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tresult: 'The properties of this book have been updated.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\t_context5.next = 43;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\t_context5.prev = 39;\n\t\t\t\t\t\t\t\t_context5.t1 = _context5['catch'](26);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context5.t1);\n\t\t\t\t\t\t\t\treturn _context5.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to update this book at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context5.t1\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 43:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context5.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee5, this, [[4, 8, 12, 20], [13,, 15, 19], [26, 39]]);\n\t\t\t}));\n\n\t\t\tfunction updateBook(_x5) {\n\t\t\t\treturn _ref5.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn updateBook;\n\t\t}()\n\t}, {\n\t\tkey: 'deleteBook',\n\t\tvalue: function () {\n\t\t\tvar _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req) {\n\t\t\t\tvar existingBook;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee6$(_context6) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context6.prev = _context6.next) {\n\t\t\t\t\t\t\tcase 0:\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.id);\n\n\t\t\t\t\t\t\t\t_context6.prev = 1;\n\t\t\t\t\t\t\t\t_context6.next = 4;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: req.params.id,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\texistingBook = _context6.sent;\n\n\t\t\t\t\t\t\t\tif (existingBook) {\n\t\t\t\t\t\t\t\t\t_context6.next = 9;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context6.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.NOT_FOUND,\n\t\t\t\t\t\t\t\t\tresult: 'The requested book is not available to be deleted.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t_context6.next = 11;\n\t\t\t\t\t\t\t\treturn _db.db.book.update({\n\t\t\t\t\t\t\t\t\tdeleted: true\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: req.params.id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\treturn _context6.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tresult: 'The requested book has been marked as deleted in the library records.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\t_context6.next = 18;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 14:\n\t\t\t\t\t\t\t\t_context6.prev = 14;\n\t\t\t\t\t\t\t\t_context6.t0 = _context6['catch'](1);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context6.t0);\n\t\t\t\t\t\t\t\treturn _context6.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to delete this book at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context6.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 18:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context6.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee6, this, [[1, 14]]);\n\t\t\t}));\n\n\t\t\tfunction deleteBook(_x6) {\n\t\t\t\treturn _ref6.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn deleteBook;\n\t\t}()\n\t}, {\n\t\tkey: 'getBookAvailability',\n\t\tvalue: function () {\n\t\t\tvar _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req) {\n\t\t\t\tvar availability;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee7$(_context7) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context7.prev = _context7.next) {\n\t\t\t\t\t\t\tcase 0:\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.id);\n\n\t\t\t\t\t\t\t\t_context7.next = 3;\n\t\t\t\t\t\t\t\treturn this.checkBookAvailability(req.params.id);\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tavailability = _context7.sent;\n\n\t\t\t\t\t\t\t\tif (!(availability === 'ERROR')) {\n\t\t\t\t\t\t\t\t\t_context7.next = 8;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context7.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to check availability at the moment.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\treturn _context7.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tjson: { availability: availability }\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context7.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee7, this);\n\t\t\t}));\n\n\t\t\tfunction getBookAvailability(_x7) {\n\t\t\t\treturn _ref7.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn getBookAvailability;\n\t\t}()\n\t}]);\n\n\treturn Book;\n}();\n\nvar bookInstance = new Book();\n\nexports.default = bookInstance;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sb2dpYy9ib29rLmpzPzZmN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9kYi9kYi5qcyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlci5qcyc7XG5pbXBvcnQgSHR0cFN0YXR1cyBmcm9tICdodHRwLXN0YXR1cy1jb2Rlcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUJvb2sgfSBmcm9tICcuLi92YWxpZGF0b3JzL2Jvb2tWYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVJZCB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvY29tbW9uVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IGJvb2tQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vY29uc3RhbnRzL2Jvb2tQcm9wZXJ0aWVzLmpzJztcblxuY2xhc3MgQm9vayB7XG5cblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdC8vIE5lZWQgJ3RoaXMnIHRvIGJlIGRlZmluZWQgdG8gYWNjZXNzIGNoZWNrQm9va0F2YWlsYWJpbGl0eSB3aXRoaW4gYm9ycm93Qm9vay5cblx0XHQvLyBBbGwgbWV0aG9kcyB3ZXJlIHN0YXRpYyBwcmV2aW91c2x5LCBidXQgJ3RoaXMnIHdhcyB1bmRlZmluZWQgaW5zaWRlIHRob3NlIG1ldGhvZHMgd2hlbiB0aGUgbWV0aG9kcyB3ZXJlIHBhc3NlZCBhcyBhcmd1bWVudHMgdG8gdGhlIGhhbmRsZXIuXG5cdFx0dGhpcy5jaGVja0Jvb2tBdmFpbGFiaWxpdHkgPSB0aGlzLmNoZWNrQm9va0F2YWlsYWJpbGl0eS5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuZ2V0Qm9va0F2YWlsYWJpbGl0eSA9IHRoaXMuZ2V0Qm9va0F2YWlsYWJpbGl0eS5iaW5kKHRoaXMpO1xuXHR9XG5cblx0YXN5bmMgYWRkQm9vayAocmVxKSB7XG5cblx0XHRjb25zdCBib29rVG9BZGQgPSByZXEuYm9keTtcblx0XHRsZXQgY3JlYXRlZEJvb2s7XG5cdFx0bGV0IGV4aXN0aW5nQm9vaztcblxuXHRcdHZhbGlkYXRlQm9vayhib29rVG9BZGQsIHsgb3BlcmF0aW9uOiAnYWRkJyB9KTtcblxuXHRcdGNvbnN0IHsgbmFtZSwgYXV0aG9yLCBlZGl0aW9uIH0gPSBib29rVG9BZGQ7XG5cblx0XHR0cnkge1xuXG5cdFx0XHRleGlzdGluZ0Jvb2sgPSBhd2FpdCBkYi5ib29rLmZpbmRBbGwoe1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGRlbGV0ZWQ6IHsgW1NlcXVlbGl6ZS5PcC5uZV06IHRydWUgfSxcblx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdGF1dGhvcixcblx0XHRcdFx0XHRlZGl0aW9uLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChleGlzdGluZ0Jvb2subGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGNyZWF0ZWRCb29rID0gYXdhaXQgZGIuYm9vay5jcmVhdGUoe1xuXHRcdFx0XHRcdC4uLmJvb2tUb0FkZCxcblx0XHRcdFx0XHRub09mQm9va3NBdmFpbGFibGU6IDEsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0YXdhaXQgZGIuYm9vay51cGRhdGUoe1xuXHRcdFx0XHRcdG5vT2ZCb29rc0F2YWlsYWJsZTogZXhpc3RpbmdCb29rWzBdLm5vT2ZCb29rc0F2YWlsYWJsZSArIDEsXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdFx0aWQ6IGV4aXN0aW5nQm9va1swXS5pZCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjcmVhdGVkQm9vayA9IGV4aXN0aW5nQm9va1swXTtcblx0XHRcdFx0Y3JlYXRlZEJvb2subm9PZkJvb2tzQXZhaWxhYmxlICs9IDE7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5DUkVBVEVELFxuXHRcdFx0XHRyZXN1bHQ6ICdUaGlzIGJvb2sgaGFzIGJlZW4gYWRkZWQgdG8gb3VyIGxpYnJhcnkuJyxcblx0XHRcdH07XG5cblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cblx0XHRcdGxvZ2dlci5lcnJvcihlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuXHRcdFx0XHRyZXN1bHQ6ICdVbmFibGUgdG8gY3JlYXRlIGJvb2tzIGF0IHRoZSBtb21lbnQuJyxcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0QWxsQm9va3MgKHJlcSkge1xuXG5cdFx0bGV0IGFsbEJvb2tzO1xuXHRcdHRyeSB7XG5cblx0XHRcdGFsbEJvb2tzID0gYXdhaXQgZGIuYm9vay5maW5kQWxsKHtcblx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRkZWxldGVkOiB7IFtTZXF1ZWxpemUuT3AubmVdOiB0cnVlIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLk9LLFxuXHRcdFx0XHRqc29uOiBhbGxCb29rcyxcblx0XHRcdH07XG5cblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cblx0XHRcdGxvZ2dlci5lcnJvcihlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuXHRcdFx0XHRyZXN1bHQ6ICdVbmFibGUgdG8gZmV0Y2ggYm9va3MgYXQgdGhlIG1vbWVudC4nLFxuXHRcdFx0XHRlcnJvcixcblx0XHRcdH07XG5cblx0XHR9XG5cdH1cblxuXHRhc3luYyBnZXRCb29rIChyZXEpIHtcblxuXHRcdHZhbGlkYXRlSWQocmVxLnBhcmFtcy5pZCk7XG5cblx0XHRsZXQgYm9vaztcblx0XHR0cnkge1xuXG5cdFx0XHRib29rID0gYXdhaXQgZGIuYm9vay5maW5kT25lKHtcblx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRpZDogcmVxLnBhcmFtcy5pZCxcblx0XHRcdFx0XHRkZWxldGVkOiB7IFtTZXF1ZWxpemUuT3AubmVdOiB0cnVlIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCFib29rKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLk5PVF9GT1VORCxcblx0XHRcdFx0XHRyZXN1bHQ6ICdUaGUgcmVxdWVzdGVkIGJvb2sgaXMgbm90IGF2YWlsYWJsZSBub3cuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5PSyxcblx0XHRcdFx0XHRqc29uOiBib29rLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXG5cdFx0XHRsb2dnZXIuZXJyb3IoZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcblx0XHRcdFx0cmVzdWx0OiAnVW5hYmxlIHRvIGdldCB0aGlzIGJvb2sgYXQgdGhlIG1vbWVudC4nLFxuXHRcdFx0XHRlcnJvcixcblx0XHRcdH07XG5cblx0XHR9XG5cdH1cblxuXHRhc3luYyBjaGVja0Jvb2tBdmFpbGFiaWxpdHkgKGlkKSB7XG5cblx0XHR2YWxpZGF0ZUlkKGlkKTtcblxuXHRcdHRyeSB7XG5cblx0XHRcdGNvbnN0IGV4aXN0aW5nQm9vayA9IGF3YWl0IGRiLmJvb2suZmluZE9uZSh7XG5cdFx0XHRcdHdoZXJlOiB7XG5cdFx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0XHRcdGRlbGV0ZWQ6IHsgW1NlcXVlbGl6ZS5PcC5uZV06IHRydWUgfSxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIWV4aXN0aW5nQm9vaykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblxuXHRcdFx0XHRjb25zdCBhdmFpbGFiaWxpdHlTdGF0dXMgPSBleGlzdGluZ0Jvb2subm9PZkJvb2tzQXZhaWxhYmxlID4gMCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0XHRyZXR1cm4gYXZhaWxhYmlsaXR5U3RhdHVzO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXG5cdFx0XHRsb2dnZXIuZXJyb3IoZXJyb3IpO1xuXHRcdFx0cmV0dXJuICdFUlJPUic7XG5cblx0XHR9XG5cdH1cblxuXHRhc3luYyB1cGRhdGVCb29rIChyZXEpIHtcblxuXHRcdGNvbnN0IHByb3BlcnRpZXNUb1VwZGF0ZSA9IHt9O1xuXG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVxLmJvZHkpKSB7XG5cdFx0XHRpZiAoYm9va1Byb3BlcnRpZXNba2V5XSkge1xuXHRcdFx0XHRwcm9wZXJ0aWVzVG9VcGRhdGVba2V5XSA9IHJlcS5ib2R5W2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvcGVydHlLZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllc1RvVXBkYXRlKTtcblxuXHRcdGlmIChwcm9wZXJ0eUtleXMubGVuZ3RoID4gMCkge1xuXHRcdFx0dmFsaWRhdGVCb29rKHByb3BlcnRpZXNUb1VwZGF0ZSwgeyBvcGVyYXRpb246ICd1cGRhdGUnIH0pO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcblx0XHRcdFx0cmVzdWx0OiAnUmVjZWl2ZWQgbm8gdmFsaWQgcHJvcGVydGllcyB0byB1cGRhdGUuJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgYmVsb3cgcXVlcnkgaW50byBhIHNlcGFyYXRlIHN1YiwgYXMgaXQgaXMgY29tbW9uIGZvciBtYW55IHN1YnMuXG5cdFx0XHRjb25zdCBleGlzdGluZ0Jvb2sgPSBhd2FpdCBkYi5ib29rLmZpbmRPbmUoe1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGlkOiByZXEucGFyYW1zLmlkLFxuXHRcdFx0XHRcdGRlbGV0ZWQ6IHsgW1NlcXVlbGl6ZS5PcC5uZV06IHRydWUgfSxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIWV4aXN0aW5nQm9vaykge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5OT1RfRk9VTkQsXG5cdFx0XHRcdFx0cmVzdWx0OiAnVGhlIHJlcXVlc3RlZCBib29rIGlzIG5vdCBhdmFpbGFibGUgdG8gYmUgdXBkYXRlZC4nLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGF3YWl0IGRiLmJvb2sudXBkYXRlKHByb3BlcnRpZXNUb1VwZGF0ZSwge1xuXHRcdFx0XHRcdHdoZXJlOiB7XG5cdFx0XHRcdFx0XHRpZDogcmVxLnBhcmFtcy5pZCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5PSyxcblx0XHRcdFx0XHRyZXN1bHQ6ICdUaGUgcHJvcGVydGllcyBvZiB0aGlzIGJvb2sgaGF2ZSBiZWVuIHVwZGF0ZWQuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdH1cblx0XHRjYXRjaCAoZXJyb3IpIHtcblxuXHRcdFx0bG9nZ2VyLmVycm9yKGVycm9yKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0XHRcdHJlc3VsdDogJ1VuYWJsZSB0byB1cGRhdGUgdGhpcyBib29rIGF0IHRoZSBtb21lbnQuJyxcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZGVsZXRlQm9vayAocmVxKSB7XG5cblx0XHR2YWxpZGF0ZUlkKHJlcS5wYXJhbXMuaWQpO1xuXG5cdFx0dHJ5IHtcblxuXHRcdFx0Y29uc3QgZXhpc3RpbmdCb29rID0gYXdhaXQgZGIuYm9vay5maW5kT25lKHtcblx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRpZDogcmVxLnBhcmFtcy5pZCxcblx0XHRcdFx0XHRkZWxldGVkOiB7IFtTZXF1ZWxpemUuT3AubmVdOiB0cnVlIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCFleGlzdGluZ0Jvb2spIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuTk9UX0ZPVU5ELFxuXHRcdFx0XHRcdHJlc3VsdDogJ1RoZSByZXF1ZXN0ZWQgYm9vayBpcyBub3QgYXZhaWxhYmxlIHRvIGJlIGRlbGV0ZWQuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdGF3YWl0IGRiLmJvb2sudXBkYXRlKHtcblx0XHRcdFx0XHRkZWxldGVkOiB0cnVlLFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRcdGlkOiByZXEucGFyYW1zLmlkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLk9LLFxuXHRcdFx0XHRcdHJlc3VsdDogJ1RoZSByZXF1ZXN0ZWQgYm9vayBoYXMgYmVlbiBtYXJrZWQgYXMgZGVsZXRlZCBpbiB0aGUgbGlicmFyeSByZWNvcmRzLicsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cblx0XHRcdGxvZ2dlci5lcnJvcihlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuXHRcdFx0XHRyZXN1bHQ6ICdVbmFibGUgdG8gZGVsZXRlIHRoaXMgYm9vayBhdCB0aGUgbW9tZW50LicsXG5cdFx0XHRcdGVycm9yLFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBnZXRCb29rQXZhaWxhYmlsaXR5IChyZXEpIHtcblxuXHRcdHZhbGlkYXRlSWQocmVxLnBhcmFtcy5pZCk7XG5cblx0XHRjb25zdCBhdmFpbGFiaWxpdHkgPSBhd2FpdCB0aGlzLmNoZWNrQm9va0F2YWlsYWJpbGl0eShyZXEucGFyYW1zLmlkKTtcblxuXHRcdGlmIChhdmFpbGFiaWxpdHkgPT09ICdFUlJPUicpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0XHRcdHJlc3VsdDogJ1VuYWJsZSB0byBjaGVjayBhdmFpbGFiaWxpdHkgYXQgdGhlIG1vbWVudC4nLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG5cdFx0XHRcdGpzb246IHsgYXZhaWxhYmlsaXR5IH0sXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxufVxuXG5jb25zdCBib29rSW5zdGFuY2UgPSBuZXcgQm9vaygpO1xuXG5leHBvcnQgZGVmYXVsdCBib29rSW5zdGFuY2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbG9naWMvYm9vay5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFDQTs7QUFEQTtBQUNBO0FBUUE7Ozs7OztBQUNBO0FBRUE7QUFGQTtBQUNBOztBQURBOzs7Ozs7QUFPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFEQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBOzs7Ozs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBOztBQURBO0FBTUE7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBOzs7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTs7QUFEQTtBQUNBO0FBTUE7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOzs7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBOzs7Ozs7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7O0FBREE7QUFDQTtBQU1BOzs7OztBQUNBO0FBQ0E7O0FBR0E7QUFFQTtBQUNBOzs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQTs7Ozs7OztBQUVBOzs7Ozs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQUNBOztBQURBO0FBQ0E7QUFNQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7O0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRQTs7Ozs7OztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQUNBOztBQURBO0FBQ0E7QUFNQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOzs7QUFNQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFEQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7Ozs7Ozs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7O0FBREE7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7O0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/*!****************************************!*\
  !*** multi babel-polyfill ./server.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! babel-polyfill */11);
module.exports = __webpack_require__(/*! ./server.js */12);


/***/ }),
/* 11 */
/*!*********************************!*\
  !*** external "babel-polyfill" ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"babel-polyfill\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1wb2x5ZmlsbFwiP2QwZDYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmFiZWwtcG9seWZpbGxcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJiYWJlbC1wb2x5ZmlsbFwiXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/*!*******************!*\
  !*** ./server.js ***!
  \*******************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _swaggerJsdoc = __webpack_require__(/*! swagger-jsdoc */ 13);\n\nvar _swaggerJsdoc2 = _interopRequireDefault(_swaggerJsdoc);\n\nvar _swaggerUiExpress = __webpack_require__(/*! swagger-ui-express */ 14);\n\nvar _swaggerUiExpress2 = _interopRequireDefault(_swaggerUiExpress);\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _db = __webpack_require__(/*! ../db/db.js */ 2);\n\nvar _bookController = __webpack_require__(/*! ../controllers/bookController.js */ 17);\n\nvar _memberController = __webpack_require__(/*! ../controllers/memberController.js */ 21);\n\nvar _bookTransactionsController = __webpack_require__(/*! ../controllers/bookTransactionsController.js */ 24);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar express = __webpack_require__(/*! express */ 3);\nvar bodyParser = __webpack_require__(/*! body-parser */ 26);\n\n\n_logger2.default.info('Setting up express app.');\nvar app = express();\nvar port = 8080;\n\napp.use(function (req, res, next) {\n\t_logger2.default.info('Incoming request.');\n\tnext();\n});\n\napp.use(bodyParser.json());\n\n_logger2.default.info('Adding routes.');\n\napp.use('/api', (0, _bookController.bookRouter)());\napp.use('/api', (0, _memberController.memberRouter)());\napp.use('/api', (0, _bookTransactionsController.bookTransactionsRouter)());\n\nvar httpServer = app.listen(port, function () {\n\n\t_db.db.syncSchema();\n\n\t_logger2.default.info('Server is running on port ' + port + '.');\n\n\tvar swaggerDefinition = {\n\t\tinfo: {\n\t\t\ttitle: 'Library APIs',\n\t\t\tversion: '1.0',\n\t\t\tdescription: 'APIs for interacting with the library application.'\n\t\t},\n\t\tschemes: ['http']\n\t};\n\n\tvar options = {\n\t\tswaggerDefinition: swaggerDefinition,\n\t\tapis: ['./controllers/bookController.js', './controllers/memberController.js', './controllers/bookTransactionsController.js']\n\t};\n\n\tvar swaggerSpec = (0, _swaggerJsdoc2.default)(options);\n\n\tapp.use('/api-docs', _swaggerUiExpress2.default.serve, function (req, res, next) {\n\t\t_swaggerUiExpress2.default.setup(swaggerSpec)(req, res);\n\t\tnext();\n\t});\n\n\tapp.get('/swagger.json', function (req, res) {\n\t\tres.json(swaggerSpec);\n\t});\n\n\tapp.emit('serverStarted');\n});\n\napp.shutDown = function () {\n\n\t_logger2.default.info('shutting down library app');\n\n\treturn new Promise(function (resolve, reject) {\n\t\thttpServer.close(function () {\n\t\t\t_logger2.default.info('closed http server.');\n\t\t\tresolve(1);\n\t\t});\n\t});\n};\n\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL3NlcnZlci5qcz9lYTc1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xyXG5pbXBvcnQgc3dhZ2dlckpzRG9jIGZyb20gJ3N3YWdnZXItanNkb2MnO1xyXG5pbXBvcnQgc3dhZ2dlclVJIGZyb20gJ3N3YWdnZXItdWktZXhwcmVzcyc7XHJcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9kYi9kYi5qcyc7XHJcbmltcG9ydCB7IGJvb2tSb3V0ZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9ib29rQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IG1lbWJlclJvdXRlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL21lbWJlckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBib29rVHJhbnNhY3Rpb25zUm91dGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvYm9va1RyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanMnO1xyXG5cclxubG9nZ2VyLmluZm8oJ1NldHRpbmcgdXAgZXhwcmVzcyBhcHAuJyk7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgcG9ydCA9IDgwODA7XHJcblxyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cdGxvZ2dlci5pbmZvKGBJbmNvbWluZyByZXF1ZXN0LmApO1xyXG5cdG5leHQoKTtcclxufSk7XHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuXHJcbmxvZ2dlci5pbmZvKCdBZGRpbmcgcm91dGVzLicpO1xyXG5cclxuYXBwLnVzZSgnL2FwaScsIGJvb2tSb3V0ZXIoKSk7XHJcbmFwcC51c2UoJy9hcGknLCBtZW1iZXJSb3V0ZXIoKSk7XHJcbmFwcC51c2UoJy9hcGknLCBib29rVHJhbnNhY3Rpb25zUm91dGVyKCkpO1xyXG5cclxuY29uc3QgaHR0cFNlcnZlciA9IGFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG5cclxuXHRkYi5zeW5jU2NoZW1hKCk7XHJcblxyXG5cdGxvZ2dlci5pbmZvKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH0uYCk7XHJcblxyXG5cdGNvbnN0IHN3YWdnZXJEZWZpbml0aW9uID0ge1xyXG5cdFx0aW5mbzoge1xyXG5cdFx0XHR0aXRsZTogJ0xpYnJhcnkgQVBJcycsXHJcblx0XHRcdHZlcnNpb246ICcxLjAnLFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogJ0FQSXMgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIGxpYnJhcnkgYXBwbGljYXRpb24uJyxcclxuXHRcdH0sXHJcblx0XHRzY2hlbWVzOiBbICdodHRwJyBdLFxyXG5cdH07XHJcblxyXG5cclxuXHRjb25zdCBvcHRpb25zID0ge1xyXG5cdFx0c3dhZ2dlckRlZmluaXRpb24sXHJcblx0XHRhcGlzOiBbXHJcblx0XHRcdCcuL2NvbnRyb2xsZXJzL2Jvb2tDb250cm9sbGVyLmpzJyxcclxuXHRcdFx0Jy4vY29udHJvbGxlcnMvbWVtYmVyQ29udHJvbGxlci5qcycsXHJcblx0XHRcdCcuL2NvbnRyb2xsZXJzL2Jvb2tUcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzJyxcclxuXHRcdF0sXHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc3dhZ2dlclNwZWMgPSBzd2FnZ2VySnNEb2Mob3B0aW9ucyk7XHJcblxyXG5cdGFwcC51c2UoJy9hcGktZG9jcycsIHN3YWdnZXJVSS5zZXJ2ZSwgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcblx0XHRzd2FnZ2VyVUkuc2V0dXAoc3dhZ2dlclNwZWMpKHJlcSwgcmVzKTtcclxuXHRcdG5leHQoKTtcclxuXHR9KTtcclxuXHJcblx0YXBwLmdldCgnL3N3YWdnZXIuanNvbicsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcblx0XHRyZXMuanNvbihzd2FnZ2VyU3BlYyk7XHJcblx0fSk7XHJcblxyXG5cdGFwcC5lbWl0KCdzZXJ2ZXJTdGFydGVkJyk7XHJcbn0pO1xyXG5cclxuYXBwLnNodXREb3duID0gKCkgPT4ge1xyXG5cclxuXHRsb2dnZXIuaW5mbygnc2h1dHRpbmcgZG93biBsaWJyYXJ5IGFwcCcpO1xyXG5cclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aHR0cFNlcnZlci5jbG9zZSgoKSA9PiB7XHJcblx0XHRcdGxvZ2dlci5pbmZvKCdjbG9zZWQgaHR0cCBzZXJ2ZXIuJyk7XHJcblx0XHRcdHJlc29sdmUoMSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvc2VydmVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQU5BO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/*!********************************!*\
  !*** external "swagger-jsdoc" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"swagger-jsdoc\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzd2FnZ2VyLWpzZG9jXCI/OWE4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzd2FnZ2VyLWpzZG9jXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwic3dhZ2dlci1qc2RvY1wiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/*!*************************************!*\
  !*** external "swagger-ui-express" ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"swagger-ui-express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzd2FnZ2VyLXVpLWV4cHJlc3NcIj82MmI4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInN3YWdnZXItdWktZXhwcmVzc1wiXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!********************************************!*\
  !*** external "@athena/app-fabric-logger" ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"@athena/app-fabric-logger\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYXRoZW5hL2FwcC1mYWJyaWMtbG9nZ2VyXCI/YjRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYXRoZW5hL2FwcC1mYWJyaWMtbG9nZ2VyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGF0aGVuYS9hcHAtZmFicmljLWxvZ2dlclwiXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!*************************!*\
  !*** ../models/book.js ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nvar _member = __webpack_require__(/*! ./member.js */ 8);\n\nvar _member2 = _interopRequireDefault(_member);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (sequelizeInstance) {\n\treturn sequelizeInstance.define('book', {\n\t\tname: {\n\t\t\tfield: 'name',\n\t\t\ttype: _sequelize2.default.STRING(20),\n\t\t\tnotNull: true\n\t\t},\n\t\tauthor: {\n\t\t\tfield: 'author',\n\t\t\ttype: _sequelize2.default.STRING(20),\n\t\t\tnotNull: true\n\t\t},\n\t\tpublishedDate: {\n\t\t\tfield: 'publisheddate',\n\t\t\ttype: _sequelize2.default.DATE\n\t\t},\n\t\tedition: {\n\t\t\tfield: 'edition',\n\t\t\ttype: _sequelize2.default.STRING(2)\n\t\t},\n\t\tshelfNumber: {\n\t\t\tfield: 'shelfnumber',\n\t\t\ttype: _sequelize2.default.STRING(2),\n\t\t\tnotNull: true\n\t\t},\n\t\tdeleted: {\n\t\t\tfield: 'deleted',\n\t\t\ttype: _sequelize2.default.BOOLEAN,\n\t\t\tnotNull: true,\n\t\t\tdefaultValue: false\n\t\t},\n\t\tnoOfBooksAvailable: {\n\t\t\tfield: 'noofbooksavailable',\n\t\t\ttype: _sequelize2.default.INTEGER,\n\t\t\tnotNull: true\n\t\t}\n\t});\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbW9kZWxzL2Jvb2suanM/OGJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgbWVtYmVyIGZyb20gJy4vbWVtYmVyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKHNlcXVlbGl6ZUluc3RhbmNlKSA9PiBzZXF1ZWxpemVJbnN0YW5jZS5kZWZpbmUoJ2Jvb2snLCB7XG5cdG5hbWU6IHtcblx0XHRmaWVsZDogJ25hbWUnLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcoMjApLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdH0sXG5cdGF1dGhvcjoge1xuXHRcdGZpZWxkOiAnYXV0aG9yJyxcblx0XHR0eXBlOiBTZXF1ZWxpemUuU1RSSU5HKDIwKSxcblx0XHRub3ROdWxsOiB0cnVlLFxuXHR9LFxuXHRwdWJsaXNoZWREYXRlOiB7XG5cdFx0ZmllbGQ6ICdwdWJsaXNoZWRkYXRlJyxcblx0XHR0eXBlOiBTZXF1ZWxpemUuREFURSxcblx0fSxcblx0ZWRpdGlvbjoge1xuXHRcdGZpZWxkOiAnZWRpdGlvbicsXG5cdFx0dHlwZTogU2VxdWVsaXplLlNUUklORygyKSxcblx0fSxcblx0c2hlbGZOdW1iZXI6IHtcblx0XHRmaWVsZDogJ3NoZWxmbnVtYmVyJyxcblx0XHR0eXBlOiBTZXF1ZWxpemUuU1RSSU5HKDIpLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdH0sXG5cdGRlbGV0ZWQ6IHtcblx0XHRmaWVsZDogJ2RlbGV0ZWQnLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5CT09MRUFOLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdFx0ZGVmYXVsdFZhbHVlOiBmYWxzZSxcblx0fSxcblx0bm9PZkJvb2tzQXZhaWxhYmxlOiB7XG5cdFx0ZmllbGQ6ICdub29mYm9va3NhdmFpbGFibGUnLFxuXHRcdHR5cGU6IFNlcXVlbGl6ZS5JTlRFR0VSLFxuXHRcdG5vdE51bGw6IHRydWUsXG5cdH0sXG59KTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG1vZGVscy9ib29rLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQTlCQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!****************************************!*\
  !*** ../controllers/bookController.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.bookRouter = undefined;\n\nvar _express = __webpack_require__(/*! express */ 3);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _handlers = __webpack_require__(/*! ../middleware/handlers.js */ 4);\n\nvar _book = __webpack_require__(/*! ../logic/book.js */ 9);\n\nvar _book2 = _interopRequireDefault(_book);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bookRouter = exports.bookRouter = function bookRouter() {\n\n\tvar bookRouter = _express2.default.Router();\n\n\t/**\n  * @swagger\n  * /api/books:\n  *   post:\n  *     description: Adds a book to the library\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *        - in: body\n  *          name: body\n  *          schema:\n  *            type: object\n  *            properties:\n  *              name:\n  *                type: string\n  *              author:\n  *                type: string\n  *              publishedDate:\n  *                type: string\n  *              edition:\n  *                type: string\n  *              shelfNumber:\n  *                type: string\n  *     responses:\n  *        \"201\":\n  *           description: Added the book successfully.\n  *        \"400\":\n  *           description: Bad request. Invalid input. Missing/Incorrect input.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.post('/books', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.addBook);\n\t});\n\n\t/**\n  * @swagger\n  * /api/books:\n  *   get:\n  *     description: Gets all books from the library\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     responses:\n  *        \"200\":\n  *           description: Returns the books.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.get('/books', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.getAllBooks);\n\t});\n\n\t/**\n  * @swagger\n  * /api/books/{id}:\n  *   get:\n  *     description: Gets a book from the library\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: id\n  *         description: The id of the book you want to get.\n  *     responses:\n  *        \"200\":\n  *           description: Returns the book if available. Returns message if unavailable.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.get('/books/:id', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.getBook);\n\t});\n\n\t/**\n  * @swagger\n  * /api/books/availability/{id}:\n  *   get:\n  *     description: Checks whether the book is available or not.\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: id\n  *         description: The id of the book you want to check availability for.\n  *     responses:\n  *        \"200\":\n  *           description: Returns the availability status.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.get('/books/availability/:id', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.getBookAvailability);\n\t});\n\n\t/**\n  * @swagger\n  * /api/books/{id}:\n  *   patch:\n  *     description: Updates properties of a book.\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: id\n  *         description: The id of the book you want to update properties.\n  *       - in: body\n  *         name: body\n  *         schema:\n  *            type: object\n  *            properties:\n  *              name:\n  *                type: string\n  *              author:\n  *                type: string\n  *              publishedDate:\n  *                type: string\n  *              edition:\n  *                type: string\n  *              shelfNumber:\n  *                type: string\n  *     responses:\n  *        \"200\":\n  *           description: Updated successfully. Book is not available.\n  *        \"400\":\n  *           description: Bad request. Missing/Incorrect input. Received no properties to update.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.patch('/books/:id', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.updateBook);\n\t});\n\n\t/**\n  * @swagger\n  * /api/books/{id}:\n  *   delete:\n  *     description: Removes a book from the library\n  *     tags:\n  *       - Books\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: id\n  *         description: The id of the book you want to remove.\n  *     responses:\n  *        \"200\":\n  *           description: Deleted the book successfully. Book is not available.\n  *        \"400\":\n  *           description: Bad request. Invalid input. Missing/Incorrect input.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookRouter.delete('/books/:id', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _book2.default.deleteBook);\n\t});\n\n\treturn bookRouter;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29udHJvbGxlcnMvYm9va0NvbnRyb2xsZXIuanM/ZGUzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IHJlcXVlc3RIYW5kbGVyIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9oYW5kbGVycy5qcyc7XG5pbXBvcnQgQm9va0Z1bmN0aW9ucyBmcm9tICcuLi9sb2dpYy9ib29rLmpzJztcblxuZXhwb3J0IGNvbnN0IGJvb2tSb3V0ZXIgPSAoKSA9PiB7XG5cblx0Y29uc3QgYm9va1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblx0LyoqXG5cdCAqIEBzd2FnZ2VyXG5cdCAqIC9hcGkvYm9va3M6XG5cdCAqICAgcG9zdDpcblx0ICogICAgIGRlc2NyaXB0aW9uOiBBZGRzIGEgYm9vayB0byB0aGUgbGlicmFyeVxuXHQgKiAgICAgdGFnczpcblx0ICogICAgICAgLSBCb29rc1xuXHQgKiAgICAgcHJvZHVjZXM6XG5cdCAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxuXHQgKiAgICAgcGFyYW1ldGVyczpcblx0ICogICAgICAgIC0gaW46IGJvZHlcblx0ICogICAgICAgICAgbmFtZTogYm9keVxuXHQgKiAgICAgICAgICBzY2hlbWE6XG5cdCAqICAgICAgICAgICAgdHlwZTogb2JqZWN0XG5cdCAqICAgICAgICAgICAgcHJvcGVydGllczpcblx0ICogICAgICAgICAgICAgIG5hbWU6XG5cdCAqICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuXHQgKiAgICAgICAgICAgICAgYXV0aG9yOlxuXHQgKiAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcblx0ICogICAgICAgICAgICAgIHB1Ymxpc2hlZERhdGU6XG5cdCAqICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuXHQgKiAgICAgICAgICAgICAgZWRpdGlvbjpcblx0ICogICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG5cdCAqICAgICAgICAgICAgICBzaGVsZk51bWJlcjpcblx0ICogICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG5cdCAqICAgICByZXNwb25zZXM6XG5cdCAqICAgICAgICBcIjIwMVwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IEFkZGVkIHRoZSBib29rIHN1Y2Nlc3NmdWxseS5cblx0ICogICAgICAgIFwiNDAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogQmFkIHJlcXVlc3QuIEludmFsaWQgaW5wdXQuIE1pc3NpbmcvSW5jb3JyZWN0IGlucHV0LlxuXHQgKiAgICAgICAgXCI1MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmFibGUgdG8gcHJvY2VzcyB0aGUgcmVxdWVzdC5cblx0ICovXG5cdGJvb2tSb3V0ZXIucG9zdCAoJy9ib29rcycsIChyZXEsIHJlcykgPT4gcmVxdWVzdEhhbmRsZXIocmVxLCByZXMsIEJvb2tGdW5jdGlvbnMuYWRkQm9vaykpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL2Jvb2tzOlxuXHQgKiAgIGdldDpcblx0ICogICAgIGRlc2NyaXB0aW9uOiBHZXRzIGFsbCBib29rcyBmcm9tIHRoZSBsaWJyYXJ5XG5cdCAqICAgICB0YWdzOlxuXHQgKiAgICAgICAtIEJvb2tzXG5cdCAqICAgICBwcm9kdWNlczpcblx0ICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXG5cdCAqICAgICByZXNwb25zZXM6XG5cdCAqICAgICAgICBcIjIwMFwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IFJldHVybnMgdGhlIGJvb2tzLlxuXHQgKiAgICAgICAgXCI1MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmFibGUgdG8gcHJvY2VzcyB0aGUgcmVxdWVzdC5cblx0ICovXG5cdGJvb2tSb3V0ZXIuZ2V0ICgnL2Jvb2tzJywgKHJlcSwgcmVzKSA9PiByZXF1ZXN0SGFuZGxlcihyZXEsIHJlcywgQm9va0Z1bmN0aW9ucy5nZXRBbGxCb29rcykpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL2Jvb2tzL3tpZH06XG5cdCAqICAgZ2V0OlxuXHQgKiAgICAgZGVzY3JpcHRpb246IEdldHMgYSBib29rIGZyb20gdGhlIGxpYnJhcnlcblx0ICogICAgIHRhZ3M6XG5cdCAqICAgICAgIC0gQm9va3Ncblx0ICogICAgIHByb2R1Y2VzOlxuXHQgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cblx0ICogICAgIHBhcmFtZXRlcnM6XG5cdCAqICAgICAgIC0gaW46IHBhdGhcblx0ICogICAgICAgICBuYW1lOiBpZFxuXHQgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgaWQgb2YgdGhlIGJvb2sgeW91IHdhbnQgdG8gZ2V0LlxuXHQgKiAgICAgcmVzcG9uc2VzOlxuXHQgKiAgICAgICAgXCIyMDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBSZXR1cm5zIHRoZSBib29rIGlmIGF2YWlsYWJsZS4gUmV0dXJucyBtZXNzYWdlIGlmIHVuYXZhaWxhYmxlLlxuXHQgKiAgICAgICAgXCI1MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmFibGUgdG8gcHJvY2VzcyB0aGUgcmVxdWVzdC5cblx0ICovXG5cdGJvb2tSb3V0ZXIuZ2V0ICgnL2Jvb2tzLzppZCcsIChyZXEsIHJlcykgPT4gcmVxdWVzdEhhbmRsZXIocmVxLCByZXMsIEJvb2tGdW5jdGlvbnMuZ2V0Qm9vaykpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL2Jvb2tzL2F2YWlsYWJpbGl0eS97aWR9OlxuXHQgKiAgIGdldDpcblx0ICogICAgIGRlc2NyaXB0aW9uOiBDaGVja3Mgd2hldGhlciB0aGUgYm9vayBpcyBhdmFpbGFibGUgb3Igbm90LlxuXHQgKiAgICAgdGFnczpcblx0ICogICAgICAgLSBCb29rc1xuXHQgKiAgICAgcHJvZHVjZXM6XG5cdCAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxuXHQgKiAgICAgcGFyYW1ldGVyczpcblx0ICogICAgICAgLSBpbjogcGF0aFxuXHQgKiAgICAgICAgIG5hbWU6IGlkXG5cdCAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBpZCBvZiB0aGUgYm9vayB5b3Ugd2FudCB0byBjaGVjayBhdmFpbGFiaWxpdHkgZm9yLlxuXHQgKiAgICAgcmVzcG9uc2VzOlxuXHQgKiAgICAgICAgXCIyMDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBSZXR1cm5zIHRoZSBhdmFpbGFiaWxpdHkgc3RhdHVzLlxuXHQgKiAgICAgICAgXCI1MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmFibGUgdG8gcHJvY2VzcyB0aGUgcmVxdWVzdC5cblx0ICovXG5cdGJvb2tSb3V0ZXIuZ2V0ICgnL2Jvb2tzL2F2YWlsYWJpbGl0eS86aWQnLCAocmVxLCByZXMpID0+IHJlcXVlc3RIYW5kbGVyKHJlcSwgcmVzLCBCb29rRnVuY3Rpb25zLmdldEJvb2tBdmFpbGFiaWxpdHkpKTtcblxuXHQvKipcblx0ICogQHN3YWdnZXJcblx0ICogL2FwaS9ib29rcy97aWR9OlxuXHQgKiAgIHBhdGNoOlxuXHQgKiAgICAgZGVzY3JpcHRpb246IFVwZGF0ZXMgcHJvcGVydGllcyBvZiBhIGJvb2suXG5cdCAqICAgICB0YWdzOlxuXHQgKiAgICAgICAtIEJvb2tzXG5cdCAqICAgICBwcm9kdWNlczpcblx0ICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXG5cdCAqICAgICBwYXJhbWV0ZXJzOlxuXHQgKiAgICAgICAtIGluOiBwYXRoXG5cdCAqICAgICAgICAgbmFtZTogaWRcblx0ICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGlkIG9mIHRoZSBib29rIHlvdSB3YW50IHRvIHVwZGF0ZSBwcm9wZXJ0aWVzLlxuXHQgKiAgICAgICAtIGluOiBib2R5XG5cdCAqICAgICAgICAgbmFtZTogYm9keVxuXHQgKiAgICAgICAgIHNjaGVtYTpcblx0ICogICAgICAgICAgICB0eXBlOiBvYmplY3Rcblx0ICogICAgICAgICAgICBwcm9wZXJ0aWVzOlxuXHQgKiAgICAgICAgICAgICAgbmFtZTpcblx0ICogICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG5cdCAqICAgICAgICAgICAgICBhdXRob3I6XG5cdCAqICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuXHQgKiAgICAgICAgICAgICAgcHVibGlzaGVkRGF0ZTpcblx0ICogICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG5cdCAqICAgICAgICAgICAgICBlZGl0aW9uOlxuXHQgKiAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcblx0ICogICAgICAgICAgICAgIHNoZWxmTnVtYmVyOlxuXHQgKiAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcblx0ICogICAgIHJlc3BvbnNlczpcblx0ICogICAgICAgIFwiMjAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogVXBkYXRlZCBzdWNjZXNzZnVsbHkuIEJvb2sgaXMgbm90IGF2YWlsYWJsZS5cblx0ICogICAgICAgIFwiNDAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogQmFkIHJlcXVlc3QuIE1pc3NpbmcvSW5jb3JyZWN0IGlucHV0LiBSZWNlaXZlZCBubyBwcm9wZXJ0aWVzIHRvIHVwZGF0ZS5cblx0ICogICAgICAgIFwiNTAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogVW5hYmxlIHRvIHByb2Nlc3MgdGhlIHJlcXVlc3QuXG5cdCAqL1xuXHRib29rUm91dGVyLnBhdGNoICgnL2Jvb2tzLzppZCcsIChyZXEsIHJlcykgPT4gcmVxdWVzdEhhbmRsZXIocmVxLCByZXMsIEJvb2tGdW5jdGlvbnMudXBkYXRlQm9vaykpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL2Jvb2tzL3tpZH06XG5cdCAqICAgZGVsZXRlOlxuXHQgKiAgICAgZGVzY3JpcHRpb246IFJlbW92ZXMgYSBib29rIGZyb20gdGhlIGxpYnJhcnlcblx0ICogICAgIHRhZ3M6XG5cdCAqICAgICAgIC0gQm9va3Ncblx0ICogICAgIHByb2R1Y2VzOlxuXHQgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cblx0ICogICAgIHBhcmFtZXRlcnM6XG5cdCAqICAgICAgIC0gaW46IHBhdGhcblx0ICogICAgICAgICBuYW1lOiBpZFxuXHQgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgaWQgb2YgdGhlIGJvb2sgeW91IHdhbnQgdG8gcmVtb3ZlLlxuXHQgKiAgICAgcmVzcG9uc2VzOlxuXHQgKiAgICAgICAgXCIyMDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBEZWxldGVkIHRoZSBib29rIHN1Y2Nlc3NmdWxseS4gQm9vayBpcyBub3QgYXZhaWxhYmxlLlxuXHQgKiAgICAgICAgXCI0MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBCYWQgcmVxdWVzdC4gSW52YWxpZCBpbnB1dC4gTWlzc2luZy9JbmNvcnJlY3QgaW5wdXQuXG5cdCAqICAgICAgICBcIjUwMFwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IFVuYWJsZSB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LlxuXHQgKi9cblx0Ym9va1JvdXRlci5kZWxldGUgKCcvYm9va3MvOmlkJywgKHJlcSwgcmVzKSA9PiByZXF1ZXN0SGFuZGxlcihyZXEsIHJlcywgQm9va0Z1bmN0aW9ucy5kZWxldGVCb29rKSk7XG5cblx0cmV0dXJuIGJvb2tSb3V0ZXI7XG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29udHJvbGxlcnMvYm9va0NvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9DQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!**************************************!*\
  !*** ../validators/bookValidator.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.validateBook = undefined;\n\nvar _validationMessages = __webpack_require__(/*! ../constants/validationMessages.js */ 6);\n\nvar validateName = function validateName(name) {\n\tif (!name || !(typeof name === 'string')) {\n\t\treturn _validationMessages.bookValidationMessages.name.isEmpty;\n\t} else if (!name.match(/[a-zA-Z0-9\\s]{6,20}/i)) {\n\t\treturn _validationMessages.bookValidationMessages.name.formatMismatch;\n\t} else {\n\t\treturn '';\n\t}\n};\n\nvar validateAuthor = function validateAuthor(author) {\n\tif (!author || !(typeof author === 'string')) {\n\t\treturn _validationMessages.bookValidationMessages.author.isEmpty;\n\t} else {\n\t\treturn '';\n\t}\n};\n\nvar validateShelfNumber = function validateShelfNumber(shelfNumber) {\n\tif (!shelfNumber || !(typeof shelfNumber === 'string')) {\n\t\treturn _validationMessages.bookValidationMessages.shelfNumber.isEmpty;\n\t} else {\n\t\treturn '';\n\t}\n};\n\nvar validatePublishedDate = function validatePublishedDate(publishedDate) {\n\tif (publishedDate && !publishedDate.match(/[1,2][7,8,9,0][0-9]{2}-[0-9]{2}-[0-9]{2}/)) {\n\t\treturn _validationMessages.bookValidationMessages.publishedDate.isEmpty;\n\t} else {\n\t\treturn '';\n\t}\n};\n\nvar validateEdition = function validateEdition(edition) {\n\tif (edition && !(typeof edition === 'string')) {\n\t\treturn _validationMessages.bookValidationMessages.edition.isEmpty;\n\t} else {\n\t\treturn '';\n\t}\n};\n\nvar validateBook = exports.validateBook = function validateBook(_ref, _ref2) {\n\tvar name = _ref.name,\n\t    author = _ref.author,\n\t    edition = _ref.edition,\n\t    publishedDate = _ref.publishedDate,\n\t    shelfNumber = _ref.shelfNumber;\n\tvar _ref2$operation = _ref2.operation,\n\t    operation = _ref2$operation === undefined ? 'noop' : _ref2$operation;\n\n\n\tvar validationError = '';\n\n\tif (operation === 'add') {\n\n\t\tvalidationError += validateName(name);\n\t\tvalidationError += validateAuthor(author);\n\t\tvalidationError += validateShelfNumber(shelfNumber);\n\t\tvalidationError += validatePublishedDate(publishedDate);\n\t\tvalidationError += validateEdition(edition);\n\t}\n\n\tif (operation === 'update') {\n\n\t\tvalidationError += name !== undefined ? validateName(name) : '';\n\t\tvalidationError += author !== undefined ? validateAuthor(author) : '';\n\t\tvalidationError += shelfNumber !== undefined ? validateShelfNumber(shelfNumber) : '';\n\t\tvalidationError += publishedDate !== undefined ? validatePublishedDate(publishedDate) : '';\n\t\tvalidationError += edition !== undefined ? validateEdition(edition) : '';\n\t}\n\n\tif (validationError) {\n\t\tthrow Error(validationError);\n\t} else {\n\t\treturn undefined;\n\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vdmFsaWRhdG9ycy9ib29rVmFsaWRhdG9yLmpzPzk1MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9va1ZhbGlkYXRpb25NZXNzYWdlcyB9IGZyb20gJy4uL2NvbnN0YW50cy92YWxpZGF0aW9uTWVzc2FnZXMuanMnO1xuXG5jb25zdCB2YWxpZGF0ZU5hbWUgPSAobmFtZSkgPT4ge1xuXHRpZiAoIW5hbWUgfHwgISh0eXBlb2YgKG5hbWUpID09PSAnc3RyaW5nJykpIHtcblx0XHRyZXR1cm4gYm9va1ZhbGlkYXRpb25NZXNzYWdlcy5uYW1lLmlzRW1wdHk7XG5cdH1cblx0ZWxzZSBpZiAoIW5hbWUubWF0Y2goL1thLXpBLVowLTlcXHNdezYsMjB9L2kpKSB7XG5cdFx0cmV0dXJuIGJvb2tWYWxpZGF0aW9uTWVzc2FnZXMubmFtZS5mb3JtYXRNaXNtYXRjaDtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cbn07XG5cbmNvbnN0IHZhbGlkYXRlQXV0aG9yID0gKGF1dGhvcikgPT4ge1xuXHRpZiAoIWF1dGhvciB8fCAhKHR5cGVvZiAoYXV0aG9yKSA9PT0gJ3N0cmluZycpKSB7XG5cdFx0cmV0dXJuIGJvb2tWYWxpZGF0aW9uTWVzc2FnZXMuYXV0aG9yLmlzRW1wdHk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG59O1xuXG5jb25zdCB2YWxpZGF0ZVNoZWxmTnVtYmVyID0gKHNoZWxmTnVtYmVyKSA9PiB7XG5cdGlmICghc2hlbGZOdW1iZXIgfHwgISh0eXBlb2YgKHNoZWxmTnVtYmVyKSA9PT0gJ3N0cmluZycpKSB7XG5cdFx0cmV0dXJuIGJvb2tWYWxpZGF0aW9uTWVzc2FnZXMuc2hlbGZOdW1iZXIuaXNFbXB0eTtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cbn07XG5cbmNvbnN0IHZhbGlkYXRlUHVibGlzaGVkRGF0ZSA9IChwdWJsaXNoZWREYXRlKSA9PiB7XG5cdGlmIChwdWJsaXNoZWREYXRlICYmICFwdWJsaXNoZWREYXRlLm1hdGNoKC9bMSwyXVs3LDgsOSwwXVswLTldezJ9LVswLTldezJ9LVswLTldezJ9LykpIHtcblx0XHRyZXR1cm4gYm9va1ZhbGlkYXRpb25NZXNzYWdlcy5wdWJsaXNoZWREYXRlLmlzRW1wdHk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG59O1xuXG5jb25zdCB2YWxpZGF0ZUVkaXRpb24gPSAoZWRpdGlvbikgPT4ge1xuXHRpZiAoZWRpdGlvbiAmJiAhKHR5cGVvZiAoZWRpdGlvbikgPT09ICdzdHJpbmcnKSkge1xuXHRcdHJldHVybiBib29rVmFsaWRhdGlvbk1lc3NhZ2VzLmVkaXRpb24uaXNFbXB0eTtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUJvb2sgPSAoeyBuYW1lLCBhdXRob3IsIGVkaXRpb24sIHB1Ymxpc2hlZERhdGUsIHNoZWxmTnVtYmVyIH0sIHsgb3BlcmF0aW9uID0gJ25vb3AnIH0pID0+IHtcblxuXHRsZXQgdmFsaWRhdGlvbkVycm9yID0gJyc7XG5cblx0aWYgKG9wZXJhdGlvbiA9PT0gJ2FkZCcpIHtcblxuXHRcdHZhbGlkYXRpb25FcnJvciArPSB2YWxpZGF0ZU5hbWUobmFtZSk7XG5cdFx0dmFsaWRhdGlvbkVycm9yICs9IHZhbGlkYXRlQXV0aG9yKGF1dGhvcik7XG5cdFx0dmFsaWRhdGlvbkVycm9yICs9IHZhbGlkYXRlU2hlbGZOdW1iZXIoc2hlbGZOdW1iZXIpO1xuXHRcdHZhbGlkYXRpb25FcnJvciArPSB2YWxpZGF0ZVB1Ymxpc2hlZERhdGUocHVibGlzaGVkRGF0ZSk7XG5cdFx0dmFsaWRhdGlvbkVycm9yICs9IHZhbGlkYXRlRWRpdGlvbihlZGl0aW9uKTtcblxuXHR9XG5cblx0aWYgKG9wZXJhdGlvbiA9PT0gJ3VwZGF0ZScpIHtcblxuXHRcdHZhbGlkYXRpb25FcnJvciArPSBuYW1lICE9PSB1bmRlZmluZWQgPyB2YWxpZGF0ZU5hbWUobmFtZSkgOiAnJztcblx0XHR2YWxpZGF0aW9uRXJyb3IgKz0gYXV0aG9yICE9PSB1bmRlZmluZWQgPyB2YWxpZGF0ZUF1dGhvcihhdXRob3IpIDogJyc7XG5cdFx0dmFsaWRhdGlvbkVycm9yICs9IHNoZWxmTnVtYmVyICE9PSB1bmRlZmluZWQgPyB2YWxpZGF0ZVNoZWxmTnVtYmVyKHNoZWxmTnVtYmVyKSA6ICcnO1xuXHRcdHZhbGlkYXRpb25FcnJvciArPSBwdWJsaXNoZWREYXRlICE9PSB1bmRlZmluZWQgPyB2YWxpZGF0ZVB1Ymxpc2hlZERhdGUocHVibGlzaGVkRGF0ZSkgOiAnJztcblx0XHR2YWxpZGF0aW9uRXJyb3IgKz0gZWRpdGlvbiAhPT0gdW5kZWZpbmVkID8gdmFsaWRhdGVFZGl0aW9uKGVkaXRpb24pIDogJyc7XG5cblx0fVxuXG5cdGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcblx0XHR0aHJvdyBFcnJvciAodmFsaWRhdGlvbkVycm9yKTtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdmFsaWRhdG9ycy9ib29rVmFsaWRhdG9yLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!****************************!*\
  !*** external "validator" ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"validator\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ2YWxpZGF0b3JcIj81NGQxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInZhbGlkYXRvclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInZhbGlkYXRvclwiXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!**************************************!*\
  !*** ../constants/bookProperties.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar bookProperties = exports.bookProperties = {\n\tname: 'NAME',\n\tauthor: 'AUTHOR',\n\tpublishedDate: 'PUBLISHEDDATE',\n\tedition: 'EDITION',\n\tshelfNumber: 'SHELFNUMBER'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29uc3RhbnRzL2Jvb2tQcm9wZXJ0aWVzLmpzPzkzNTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGJvb2tQcm9wZXJ0aWVzID0ge1xuXHRuYW1lOiAnTkFNRScsXG5cdGF1dGhvcjogJ0FVVEhPUicsXG5cdHB1Ymxpc2hlZERhdGU6ICdQVUJMSVNIRUREQVRFJyxcblx0ZWRpdGlvbjogJ0VESVRJT04nLFxuXHRzaGVsZk51bWJlcjogJ1NIRUxGTlVNQkVSJyxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY29uc3RhbnRzL2Jvb2tQcm9wZXJ0aWVzLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/*!******************************************!*\
  !*** ../controllers/memberController.js ***!
  \******************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.memberRouter = undefined;\n\nvar _express = __webpack_require__(/*! express */ 3);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _handlers = __webpack_require__(/*! ../middleware/handlers.js */ 4);\n\nvar _member = __webpack_require__(/*! ../logic/member.js */ 22);\n\nvar _member2 = _interopRequireDefault(_member);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar memberRouter = exports.memberRouter = function memberRouter() {\n\n\tvar memberRouter = _express2.default.Router();\n\n\t/**\n  * @swagger\n  * /api/members:\n  *   post:\n  *     description: Registers a member to the library\n  *     tags:\n  *       - Members\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *        - in: body\n  *          name: body\n  *          schema:\n  *            type: object\n  *            properties:\n  *              username:\n  *                type: string\n  *              contactNumber:\n  *                type: string\n  *     responses:\n  *        \"201\":\n  *           description: Registered the member successfully.\n  *        \"400\":\n  *           description: Bad request. Missing/Incorrect input. Member is already registered.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tmemberRouter.post('/members', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _member2.default.registerMember);\n\t});\n\n\t/**\n  * @swagger\n  * /api/members/{id}:\n  *   delete:\n  *     description: Unregisters a member from the library\n  *     tags:\n  *       - Members\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: id\n  *         description: The id of the member you want to unregister.\n  *     responses:\n  *        \"200\":\n  *           description: Unregistered the member successfully. Member is already unregistered.\n  *        \"400\":\n  *           description: Bad request. Missing/Incorrect input. Member is not registered.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tmemberRouter.delete('/members/:id', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _member2.default.unRegisterMember);\n\t});\n\n\treturn memberRouter;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29udHJvbGxlcnMvbWVtYmVyQ29udHJvbGxlci5qcz83ZDMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgcmVxdWVzdEhhbmRsZXIgfSBmcm9tICcuLi9taWRkbGV3YXJlL2hhbmRsZXJzLmpzJztcbmltcG9ydCBNZW1iZXJGdW5jdGlvbnMgZnJvbSAnLi4vbG9naWMvbWVtYmVyLmpzJztcblxuZXhwb3J0IGNvbnN0IG1lbWJlclJvdXRlciA9ICgpID0+IHtcblxuXHRjb25zdCBtZW1iZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL21lbWJlcnM6XG5cdCAqICAgcG9zdDpcblx0ICogICAgIGRlc2NyaXB0aW9uOiBSZWdpc3RlcnMgYSBtZW1iZXIgdG8gdGhlIGxpYnJhcnlcblx0ICogICAgIHRhZ3M6XG5cdCAqICAgICAgIC0gTWVtYmVyc1xuXHQgKiAgICAgcHJvZHVjZXM6XG5cdCAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxuXHQgKiAgICAgcGFyYW1ldGVyczpcblx0ICogICAgICAgIC0gaW46IGJvZHlcblx0ICogICAgICAgICAgbmFtZTogYm9keVxuXHQgKiAgICAgICAgICBzY2hlbWE6XG5cdCAqICAgICAgICAgICAgdHlwZTogb2JqZWN0XG5cdCAqICAgICAgICAgICAgcHJvcGVydGllczpcblx0ICogICAgICAgICAgICAgIHVzZXJuYW1lOlxuXHQgKiAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcblx0ICogICAgICAgICAgICAgIGNvbnRhY3ROdW1iZXI6XG5cdCAqICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuXHQgKiAgICAgcmVzcG9uc2VzOlxuXHQgKiAgICAgICAgXCIyMDFcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBSZWdpc3RlcmVkIHRoZSBtZW1iZXIgc3VjY2Vzc2Z1bGx5LlxuXHQgKiAgICAgICAgXCI0MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBCYWQgcmVxdWVzdC4gTWlzc2luZy9JbmNvcnJlY3QgaW5wdXQuIE1lbWJlciBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXG5cdCAqICAgICAgICBcIjUwMFwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IFVuYWJsZSB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LlxuXHQgKi9cblx0bWVtYmVyUm91dGVyLnBvc3QgKCcvbWVtYmVycycsIChyZXEsIHJlcykgPT4gcmVxdWVzdEhhbmRsZXIocmVxLCByZXMsIE1lbWJlckZ1bmN0aW9ucy5yZWdpc3Rlck1lbWJlcikpO1xuXG5cdC8qKlxuXHQgKiBAc3dhZ2dlclxuXHQgKiAvYXBpL21lbWJlcnMve2lkfTpcblx0ICogICBkZWxldGU6XG5cdCAqICAgICBkZXNjcmlwdGlvbjogVW5yZWdpc3RlcnMgYSBtZW1iZXIgZnJvbSB0aGUgbGlicmFyeVxuXHQgKiAgICAgdGFnczpcblx0ICogICAgICAgLSBNZW1iZXJzXG5cdCAqICAgICBwcm9kdWNlczpcblx0ICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXG5cdCAqICAgICBwYXJhbWV0ZXJzOlxuXHQgKiAgICAgICAtIGluOiBwYXRoXG5cdCAqICAgICAgICAgbmFtZTogaWRcblx0ICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGlkIG9mIHRoZSBtZW1iZXIgeW91IHdhbnQgdG8gdW5yZWdpc3Rlci5cblx0ICogICAgIHJlc3BvbnNlczpcblx0ICogICAgICAgIFwiMjAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogVW5yZWdpc3RlcmVkIHRoZSBtZW1iZXIgc3VjY2Vzc2Z1bGx5LiBNZW1iZXIgaXMgYWxyZWFkeSB1bnJlZ2lzdGVyZWQuXG5cdCAqICAgICAgICBcIjQwMFwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IEJhZCByZXF1ZXN0LiBNaXNzaW5nL0luY29ycmVjdCBpbnB1dC4gTWVtYmVyIGlzIG5vdCByZWdpc3RlcmVkLlxuXHQgKiAgICAgICAgXCI1MDBcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmFibGUgdG8gcHJvY2VzcyB0aGUgcmVxdWVzdC5cblx0ICovXG5cdG1lbWJlclJvdXRlci5kZWxldGUgKCcvbWVtYmVycy86aWQnLCAocmVxLCByZXMpID0+IHJlcXVlc3RIYW5kbGVyKHJlcSwgcmVzLCBNZW1iZXJGdW5jdGlvbnMudW5SZWdpc3Rlck1lbWJlcikpO1xuXG5cdHJldHVybiBtZW1iZXJSb3V0ZXI7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNvbnRyb2xsZXJzL21lbWJlckNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEyQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/*!**************************!*\
  !*** ../logic/member.js ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _db = __webpack_require__(/*! ../db/db.js */ 2);\n\nvar _httpStatusCodes = __webpack_require__(/*! http-status-codes */ 5);\n\nvar _httpStatusCodes2 = _interopRequireDefault(_httpStatusCodes);\n\nvar _memberValidator = __webpack_require__(/*! ../validators/memberValidator.js */ 23);\n\nvar _commonValidator = __webpack_require__(/*! ../validators/commonValidator.js */ 7);\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Member = function () {\n\tfunction Member() {\n\t\t_classCallCheck(this, Member);\n\t}\n\n\t_createClass(Member, null, [{\n\t\tkey: 'registerMember',\n\t\tvalue: function () {\n\t\t\tvar _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req) {\n\t\t\t\tvar _req$body, _req$body$username, username, _req$body$contactNumb, contactNumber, existingMember;\n\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_req$body = req.body, _req$body$username = _req$body.username, username = _req$body$username === undefined ? '' : _req$body$username, _req$body$contactNumb = _req$body.contactNumber, contactNumber = _req$body$contactNumb === undefined ? '' : _req$body$contactNumb;\n\t\t\t\t\t\t\t\texistingMember = void 0;\n\n\n\t\t\t\t\t\t\t\t(0, _memberValidator.validateMember)({ username: username, contactNumber: contactNumber });\n\n\t\t\t\t\t\t\t\t_context.prev = 3;\n\t\t\t\t\t\t\t\t_context.next = 6;\n\t\t\t\t\t\t\t\treturn _db.db.member.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tusername: username,\n\t\t\t\t\t\t\t\t\t\tunRegisteredYN: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\texistingMember = _context.sent;\n\n\t\t\t\t\t\t\t\tif (!existingMember) {\n\t\t\t\t\t\t\t\t\t_context.next = 9;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'The requested user is already a registered member.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t_context.next = 11;\n\t\t\t\t\t\t\t\treturn _db.db.member.create({\n\t\t\t\t\t\t\t\t\tusername: username,\n\t\t\t\t\t\t\t\t\tcontactNumber: contactNumber\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.CREATED,\n\t\t\t\t\t\t\t\t\tresult: 'The requested user has been registered.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 14:\n\t\t\t\t\t\t\t\t_context.prev = 14;\n\t\t\t\t\t\t\t\t_context.t0 = _context['catch'](3);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context.t0);\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to register this user at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 18:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, this, [[3, 14]]);\n\t\t\t}));\n\n\t\t\tfunction registerMember(_x) {\n\t\t\t\treturn _ref.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn registerMember;\n\t\t}()\n\t}, {\n\t\tkey: 'unRegisterMember',\n\t\tvalue: function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req) {\n\t\t\t\tvar memberId, existingMember;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.id);\n\n\t\t\t\t\t\t\t\tmemberId = req.params.id;\n\t\t\t\t\t\t\t\t_context2.prev = 2;\n\t\t\t\t\t\t\t\t_context2.next = 5;\n\t\t\t\t\t\t\t\treturn _db.db.member.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\texistingMember = _context2.sent;\n\n\t\t\t\t\t\t\t\tif (existingMember) {\n\t\t\t\t\t\t\t\t\t_context2.next = 8;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'This user is not already registered with us.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tif (!existingMember.unRegisteredYN) {\n\t\t\t\t\t\t\t\t\t_context2.next = 10;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'This user has already unregistered with us.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\t_context2.next = 12;\n\t\t\t\t\t\t\t\treturn _db.db.member.update({\n\t\t\t\t\t\t\t\t\tunRegisteredYN: true\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tresult: 'The requested user has been unregistered.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 15:\n\t\t\t\t\t\t\t\t_context2.prev = 15;\n\t\t\t\t\t\t\t\t_context2.t0 = _context2['catch'](2);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context2.t0);\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to unregister this user at the moment.',\n\t\t\t\t\t\t\t\t\terror: _context2.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 19:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, this, [[2, 15]]);\n\t\t\t}));\n\n\t\t\tfunction unRegisterMember(_x2) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn unRegisterMember;\n\t\t}()\n\t}]);\n\n\treturn Member;\n}();\n\nexports.default = Member;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9naWMvbWVtYmVyLmpzPzAyMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9kYi9kYi5qcyc7XG5pbXBvcnQgSHR0cFN0YXR1cyBmcm9tICdodHRwLXN0YXR1cy1jb2Rlcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZU1lbWJlciB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvbWVtYmVyVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IHZhbGlkYXRlSWQgfSBmcm9tICcuLi92YWxpZGF0b3JzL2NvbW1vblZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5cbmNsYXNzIE1lbWJlciB7XG5cblx0c3RhdGljIGFzeW5jIHJlZ2lzdGVyTWVtYmVyIChyZXEpIHtcblxuXHRcdGNvbnN0IHsgdXNlcm5hbWUgPSAnJywgY29udGFjdE51bWJlciA9ICcnIH0gPSByZXEuYm9keTtcblxuXHRcdGxldCBleGlzdGluZ01lbWJlcjtcblxuXHRcdHZhbGlkYXRlTWVtYmVyKHsgdXNlcm5hbWUsIGNvbnRhY3ROdW1iZXIgfSk7XG5cblx0XHR0cnkge1xuXG5cdFx0XHRleGlzdGluZ01lbWJlciA9IGF3YWl0IGRiLm1lbWJlci5maW5kT25lKHtcblx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHR1c2VybmFtZSxcblx0XHRcdFx0XHR1blJlZ2lzdGVyZWRZTjogeyBbU2VxdWVsaXplLk9wLm5lXTogdHJ1ZSB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChleGlzdGluZ01lbWJlcikge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcblx0XHRcdFx0XHRyZXN1bHQ6ICdUaGUgcmVxdWVzdGVkIHVzZXIgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgbWVtYmVyLicsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IGRiLm1lbWJlci5jcmVhdGUoe1xuXHRcdFx0XHR1c2VybmFtZSxcblx0XHRcdFx0Y29udGFjdE51bWJlcixcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuQ1JFQVRFRCxcblx0XHRcdFx0cmVzdWx0OiAnVGhlIHJlcXVlc3RlZCB1c2VyIGhhcyBiZWVuIHJlZ2lzdGVyZWQuJyxcblx0XHRcdH07XG5cblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cblx0XHRcdGxvZ2dlci5lcnJvcihlcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuXHRcdFx0XHRyZXN1bHQ6ICdVbmFibGUgdG8gcmVnaXN0ZXIgdGhpcyB1c2VyIGF0IHRoZSBtb21lbnQuJyxcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGFzeW5jIHVuUmVnaXN0ZXJNZW1iZXIgKHJlcSkge1xuXG5cdFx0dmFsaWRhdGVJZChyZXEucGFyYW1zLmlkKTtcblxuXHRcdGNvbnN0IG1lbWJlcklkID0gcmVxLnBhcmFtcy5pZDtcblxuXHRcdHRyeSB7XG5cblx0XHRcdGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIubWVtYmVyLmZpbmRPbmUoe1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGlkOiBtZW1iZXJJZCxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIWV4aXN0aW5nTWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuXHRcdFx0XHRcdHJlc3VsdDogJ1RoaXMgdXNlciBpcyBub3QgYWxyZWFkeSByZWdpc3RlcmVkIHdpdGggdXMuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGV4aXN0aW5nTWVtYmVyLnVuUmVnaXN0ZXJlZFlOKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuXHRcdFx0XHRcdHJlc3VsdDogJ1RoaXMgdXNlciBoYXMgYWxyZWFkeSB1bnJlZ2lzdGVyZWQgd2l0aCB1cy4nLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCBkYi5tZW1iZXIudXBkYXRlKHtcblx0XHRcdFx0dW5SZWdpc3RlcmVkWU46IHRydWUsXG5cdFx0XHR9LCB7XG5cdFx0XHRcdHdoZXJlOiB7XG5cdFx0XHRcdFx0aWQ6IG1lbWJlcklkLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5PSyxcblx0XHRcdFx0cmVzdWx0OiAnVGhlIHJlcXVlc3RlZCB1c2VyIGhhcyBiZWVuIHVucmVnaXN0ZXJlZC4nLFxuXHRcdFx0fTtcblxuXHRcdH1cblx0XHRjYXRjaCAoZXJyb3IpIHtcblxuXHRcdFx0bG9nZ2VyLmVycm9yKGVycm9yKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0XHRcdHJlc3VsdDogJ1VuYWJsZSB0byB1bnJlZ2lzdGVyIHRoaXMgdXNlciBhdCB0aGUgbW9tZW50LicsXG5cdFx0XHRcdGVycm9yLFxuXHRcdFx0fTtcblxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBNZW1iZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbG9naWMvbWVtYmVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7Ozs7O0FBRUE7Ozs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQUNBOztBQURBO0FBQ0E7QUFNQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOztBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRQTs7Ozs7OztBQUVBO0FBQ0E7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBOztBQURBO0FBQ0E7QUFLQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOztBQUtBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7OztBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7O0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/*!****************************************!*\
  !*** ../validators/memberValidator.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.validateMember = undefined;\n\nvar _validationMessages = __webpack_require__(/*! ../constants/validationMessages.js */ 6);\n\nvar validateMember = exports.validateMember = function validateMember(_ref) {\n\tvar username = _ref.username,\n\t    contactNumber = _ref.contactNumber;\n\n\n\tvar validationError = '';\n\n\tif (username === '' || typeof username === 'number') {\n\t\tvalidationError += _validationMessages.memberValidationMessages.username.isEmpty;\n\t} else if (!username.match(/[a-zA-Z0-9\\s]{6,12}/i)) {\n\t\tvalidationError += _validationMessages.memberValidationMessages.username.formatMismatch;\n\t}\n\n\tif (typeof contactNumber === 'number') {\n\t\tvalidationError += _validationMessages.memberValidationMessages.contactNumber.typeMismatch;\n\t} else if (contactNumber && !contactNumber.match(/^\\d+$/)) {\n\t\tvalidationError += _validationMessages.memberValidationMessages.contactNumber.formatMismatch;\n\t}\n\n\tif (validationError) {\n\t\tthrow Error(validationError);\n\t} else {\n\t\treturn undefined;\n\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vdmFsaWRhdG9ycy9tZW1iZXJWYWxpZGF0b3IuanM/NGE0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZW1iZXJWYWxpZGF0aW9uTWVzc2FnZXMgfSBmcm9tICcuLi9jb25zdGFudHMvdmFsaWRhdGlvbk1lc3NhZ2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTWVtYmVyID0gKHsgdXNlcm5hbWUsIGNvbnRhY3ROdW1iZXIgfSkgPT4ge1xuXG5cdGxldCB2YWxpZGF0aW9uRXJyb3IgPSAnJztcblxuXHRpZiAodXNlcm5hbWUgPT09ICcnIHx8IHR5cGVvZiAodXNlcm5hbWUpID09PSAnbnVtYmVyJykge1xuXHRcdHZhbGlkYXRpb25FcnJvciArPSBtZW1iZXJWYWxpZGF0aW9uTWVzc2FnZXMudXNlcm5hbWUuaXNFbXB0eTtcblx0fVxuXHRlbHNlIGlmICghdXNlcm5hbWUubWF0Y2goL1thLXpBLVowLTlcXHNdezYsMTJ9L2kpKSB7XG5cdFx0dmFsaWRhdGlvbkVycm9yICs9IG1lbWJlclZhbGlkYXRpb25NZXNzYWdlcy51c2VybmFtZS5mb3JtYXRNaXNtYXRjaDtcblx0fVxuXG5cdGlmICh0eXBlb2YgKGNvbnRhY3ROdW1iZXIpID09PSAnbnVtYmVyJykge1xuXHRcdHZhbGlkYXRpb25FcnJvciArPSBtZW1iZXJWYWxpZGF0aW9uTWVzc2FnZXMuY29udGFjdE51bWJlci50eXBlTWlzbWF0Y2g7XG5cdH1cblx0ZWxzZSBpZiAoY29udGFjdE51bWJlciAmJiAhKGNvbnRhY3ROdW1iZXIubWF0Y2goL15cXGQrJC8pKSkge1xuXHRcdHZhbGlkYXRpb25FcnJvciArPSBtZW1iZXJWYWxpZGF0aW9uTWVzc2FnZXMuY29udGFjdE51bWJlci5mb3JtYXRNaXNtYXRjaDtcblx0fVxuXG5cdGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcblx0XHR0aHJvdyBFcnJvciAodmFsaWRhdGlvbkVycm9yKTtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHZhbGlkYXRvcnMvbWVtYmVyVmFsaWRhdG9yLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/*!****************************************************!*\
  !*** ../controllers/bookTransactionsController.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.bookTransactionsRouter = undefined;\n\nvar _express = __webpack_require__(/*! express */ 3);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _handlers = __webpack_require__(/*! ../middleware/handlers.js */ 4);\n\nvar _bookTransactions = __webpack_require__(/*! ../logic/bookTransactions.js */ 25);\n\nvar _bookTransactions2 = _interopRequireDefault(_bookTransactions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bookTransactionsRouter = exports.bookTransactionsRouter = function bookTransactionsRouter() {\n\n\tvar bookTransactionsRouter = _express2.default.Router();\n\n\t/**\n  * @swagger\n  * /api/members/{memberId}/books/{bookId}:\n  *   post:\n  *     description: Borrow / Return a book.\n  *     tags:\n  *       - Book Transactions\n  *     produces:\n  *       - application/json\n  *     parameters:\n  *       - in: path\n  *         name: bookId\n  *         description: The id of the book you want to borrow / return.\n  *       - in: path\n  *         name: memberId\n  *         description: The id of the member who wants to do this transaction.\n  *       - in: body\n  *         name: body\n  *         schema:\n  *            type: object\n  *            properties:\n  *              transactionType:\n  *                type: string\n  *     responses:\n  *        \"200\":\n  *           description: Transaction successful / Book not available.\n  *           examples:\n  *             application/json: |-\n  *               {\n  *                 \"transactionType\": \"BORROW\"\n  *               }\n  *               {\n  *                 \"transactionType\": \"RETURN\"\n  *               }\n  *        \"400\":\n  *           description: Bad request. Missing/Incorrect input.\n  *        \"401\":\n  *           description: Unregistered member trying to make this transaction.\n  *        \"500\":\n  *           description: Unable to process the request.\n  */\n\tbookTransactionsRouter.post('/members/:memberId/books/:bookId', function (req, res) {\n\t\treturn (0, _handlers.requestHandler)(req, res, _bookTransactions2.default.handleBookTransactions);\n\t});\n\n\treturn bookTransactionsRouter;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29udHJvbGxlcnMvYm9va1RyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanM/Y2M5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IHJlcXVlc3RIYW5kbGVyIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9oYW5kbGVycy5qcyc7XG5pbXBvcnQgQm9va1RyYW5zYWN0aW9ucyBmcm9tICcuLi9sb2dpYy9ib29rVHJhbnNhY3Rpb25zLmpzJztcblxuZXhwb3J0IGNvbnN0IGJvb2tUcmFuc2FjdGlvbnNSb3V0ZXIgPSAoKSA9PiB7XG5cblx0Y29uc3QgYm9va1RyYW5zYWN0aW9uc1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblx0LyoqXG5cdCAqIEBzd2FnZ2VyXG5cdCAqIC9hcGkvbWVtYmVycy97bWVtYmVySWR9L2Jvb2tzL3tib29rSWR9OlxuXHQgKiAgIHBvc3Q6XG5cdCAqICAgICBkZXNjcmlwdGlvbjogQm9ycm93IC8gUmV0dXJuIGEgYm9vay5cblx0ICogICAgIHRhZ3M6XG5cdCAqICAgICAgIC0gQm9vayBUcmFuc2FjdGlvbnNcblx0ICogICAgIHByb2R1Y2VzOlxuXHQgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cblx0ICogICAgIHBhcmFtZXRlcnM6XG5cdCAqICAgICAgIC0gaW46IHBhdGhcblx0ICogICAgICAgICBuYW1lOiBib29rSWRcblx0ICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGlkIG9mIHRoZSBib29rIHlvdSB3YW50IHRvIGJvcnJvdyAvIHJldHVybi5cblx0ICogICAgICAgLSBpbjogcGF0aFxuXHQgKiAgICAgICAgIG5hbWU6IG1lbWJlcklkXG5cdCAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBpZCBvZiB0aGUgbWVtYmVyIHdobyB3YW50cyB0byBkbyB0aGlzIHRyYW5zYWN0aW9uLlxuXHQgKiAgICAgICAtIGluOiBib2R5XG5cdCAqICAgICAgICAgbmFtZTogYm9keVxuXHQgKiAgICAgICAgIHNjaGVtYTpcblx0ICogICAgICAgICAgICB0eXBlOiBvYmplY3Rcblx0ICogICAgICAgICAgICBwcm9wZXJ0aWVzOlxuXHQgKiAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOlxuXHQgKiAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcblx0ICogICAgIHJlc3BvbnNlczpcblx0ICogICAgICAgIFwiMjAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogVHJhbnNhY3Rpb24gc3VjY2Vzc2Z1bCAvIEJvb2sgbm90IGF2YWlsYWJsZS5cblx0ICogICAgICAgICAgIGV4YW1wbGVzOlxuXHQgKiAgICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOiB8LVxuXHQgKiAgICAgICAgICAgICAgIHtcblx0ICogICAgICAgICAgICAgICAgIFwidHJhbnNhY3Rpb25UeXBlXCI6IFwiQk9SUk9XXCJcblx0ICogICAgICAgICAgICAgICB9XG5cdCAqICAgICAgICAgICAgICAge1xuXHQgKiAgICAgICAgICAgICAgICAgXCJ0cmFuc2FjdGlvblR5cGVcIjogXCJSRVRVUk5cIlxuXHQgKiAgICAgICAgICAgICAgIH1cblx0ICogICAgICAgIFwiNDAwXCI6XG5cdCAqICAgICAgICAgICBkZXNjcmlwdGlvbjogQmFkIHJlcXVlc3QuIE1pc3NpbmcvSW5jb3JyZWN0IGlucHV0LlxuXHQgKiAgICAgICAgXCI0MDFcIjpcblx0ICogICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbnJlZ2lzdGVyZWQgbWVtYmVyIHRyeWluZyB0byBtYWtlIHRoaXMgdHJhbnNhY3Rpb24uXG5cdCAqICAgICAgICBcIjUwMFwiOlxuXHQgKiAgICAgICAgICAgZGVzY3JpcHRpb246IFVuYWJsZSB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LlxuXHQgKi9cblx0Ym9va1RyYW5zYWN0aW9uc1JvdXRlci5wb3N0ICgnL21lbWJlcnMvOm1lbWJlcklkL2Jvb2tzLzpib29rSWQnLCAocmVxLCByZXMpID0+IHJlcXVlc3RIYW5kbGVyKHJlcSwgcmVzLCBCb29rVHJhbnNhY3Rpb25zLmhhbmRsZUJvb2tUcmFuc2FjdGlvbnMpKTtcblxuXHRyZXR1cm4gYm9va1RyYW5zYWN0aW9uc1JvdXRlcjtcblxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBjb250cm9sbGVycy9ib29rVHJhbnNhY3Rpb25zQ29udHJvbGxlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/*!************************************!*\
  !*** ../logic/bookTransactions.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sequelize = __webpack_require__(/*! sequelize */ 1);\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nvar _db = __webpack_require__(/*! ../db/db.js */ 2);\n\nvar _logger = __webpack_require__(/*! ../logger.js */ 0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _httpStatusCodes = __webpack_require__(/*! http-status-codes */ 5);\n\nvar _httpStatusCodes2 = _interopRequireDefault(_httpStatusCodes);\n\nvar _book = __webpack_require__(/*! ../logic/book.js */ 9);\n\nvar _book2 = _interopRequireDefault(_book);\n\nvar _commonValidator = __webpack_require__(/*! ../validators/commonValidator.js */ 7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BookTransactions = function () {\n\tfunction BookTransactions() {\n\t\t_classCallCheck(this, BookTransactions);\n\n\t\tthis.borrowBook = this.borrowBook.bind(this);\n\t\tthis.returnBook = this.returnBook.bind(this);\n\t\tthis.handleBookTransactions = this.handleBookTransactions.bind(this);\n\t}\n\n\t_createClass(BookTransactions, [{\n\t\tkey: 'borrowBook',\n\t\tvalue: function () {\n\t\t\tvar _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req) {\n\t\t\t\tvar bookId, memberId, existingMember, bookAvailability, book;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tbookId = req.params.bookId;\n\t\t\t\t\t\t\t\tmemberId = req.params.memberId;\n\t\t\t\t\t\t\t\t_context.next = 4;\n\t\t\t\t\t\t\t\treturn _db.db.member.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId,\n\t\t\t\t\t\t\t\t\t\tunRegisteredYN: _defineProperty({}, _sequelize2.default.Op.eq, false)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\texistingMember = _context.sent;\n\n\t\t\t\t\t\t\t\tif (existingMember) {\n\t\t\t\t\t\t\t\t\t_context.next = 9;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.UNAUTHORIZED,\n\t\t\t\t\t\t\t\t\tresult: 'You must be a registered member to borrow this book. Please register first.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t_context.next = 11;\n\t\t\t\t\t\t\t\treturn _book2.default.checkBookAvailability(bookId);\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\tbookAvailability = _context.sent;\n\n\t\t\t\t\t\t\t\tif (!(bookAvailability === true)) {\n\t\t\t\t\t\t\t\t\t_context.next = 30;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context.prev = 13;\n\t\t\t\t\t\t\t\t_context.next = 16;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: bookId,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 16:\n\t\t\t\t\t\t\t\tbook = _context.sent;\n\t\t\t\t\t\t\t\t_context.next = 19;\n\t\t\t\t\t\t\t\treturn _db.db.book.update({\n\t\t\t\t\t\t\t\t\tnoOfBooksAvailable: book.noOfBooksAvailable - 1\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: bookId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 19:\n\t\t\t\t\t\t\t\t_context.next = 21;\n\t\t\t\t\t\t\t\treturn _db.db.member.update({\n\t\t\t\t\t\t\t\t\tnoOfBooksTaken: existingMember.noOfBooksTaken + 1\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 21:\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tresult: 'One copy of the requested book has been lent to you.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 24:\n\t\t\t\t\t\t\t\t_context.prev = 24;\n\t\t\t\t\t\t\t\t_context.t0 = _context['catch'](13);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context.t0);\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to lend this book at the moment due to technical issues.',\n\t\t\t\t\t\t\t\t\terror: _context.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 28:\n\t\t\t\t\t\t\t\t_context.next = 35;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 30:\n\t\t\t\t\t\t\t\tif (!(bookAvailability === false)) {\n\t\t\t\t\t\t\t\t\t_context.next = 34;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.NOT_FOUND,\n\t\t\t\t\t\t\t\t\tresult: 'This book is not available at the moment.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 34:\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to lend this book at the moment due to technical issues.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 35:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, this, [[13, 24]]);\n\t\t\t}));\n\n\t\t\tfunction borrowBook(_x) {\n\t\t\t\treturn _ref.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn borrowBook;\n\t\t}()\n\t}, {\n\t\tkey: 'returnBook',\n\t\tvalue: function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req) {\n\t\t\t\tvar bookId, memberId, book, existingMember;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tbookId = req.params.bookId;\n\t\t\t\t\t\t\t\tmemberId = req.params.memberId;\n\t\t\t\t\t\t\t\t_context2.prev = 2;\n\t\t\t\t\t\t\t\t_context2.next = 5;\n\t\t\t\t\t\t\t\treturn _db.db.book.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: bookId,\n\t\t\t\t\t\t\t\t\t\tdeleted: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tbook = _context2.sent;\n\t\t\t\t\t\t\t\t_context2.next = 8;\n\t\t\t\t\t\t\t\treturn _db.db.member.findOne({\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId,\n\t\t\t\t\t\t\t\t\t\tunRegisteredYN: _defineProperty({}, _sequelize2.default.Op.ne, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\texistingMember = _context2.sent;\n\n\t\t\t\t\t\t\t\tif (existingMember) {\n\t\t\t\t\t\t\t\t\t_context2.next = 11;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.UNAUTHORIZED,\n\t\t\t\t\t\t\t\t\tresult: 'You must be a registered member to return a book. Please register first.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\t\tif (book) {\n\t\t\t\t\t\t\t\t\t_context2.next = 13;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'We did not lend you this book. Please check.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\tif (!(existingMember.noOfBooksTaken === 0)) {\n\t\t\t\t\t\t\t\t\t_context2.next = 15;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'You\\'ve returned all your books already. Please check.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 15:\n\t\t\t\t\t\t\t\t_context2.next = 17;\n\t\t\t\t\t\t\t\treturn _db.db.book.update({\n\t\t\t\t\t\t\t\t\tnoOfBooksAvailable: book.noOfBooksAvailable + 1\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: bookId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 17:\n\t\t\t\t\t\t\t\t_context2.next = 19;\n\t\t\t\t\t\t\t\treturn _db.db.member.update({\n\t\t\t\t\t\t\t\t\tnoOfBooksTaken: existingMember.noOfBooksTaken - 1\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\t\t\tid: memberId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 19:\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.OK,\n\t\t\t\t\t\t\t\t\tresult: 'The return of your book has been accepted.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 22:\n\t\t\t\t\t\t\t\t_context2.prev = 22;\n\t\t\t\t\t\t\t\t_context2.t0 = _context2['catch'](2);\n\n\n\t\t\t\t\t\t\t\t_logger2.default.error(_context2.t0);\n\t\t\t\t\t\t\t\treturn _context2.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\tresult: 'Unable to accept this book at the moment due to technical issues.',\n\t\t\t\t\t\t\t\t\terror: _context2.t0\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 26:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, this, [[2, 22]]);\n\t\t\t}));\n\n\t\t\tfunction returnBook(_x2) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn returnBook;\n\t\t}()\n\t}, {\n\t\tkey: 'handleBookTransactions',\n\t\tvalue: function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req) {\n\t\t\t\tvar transactionResult;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context3.prev = _context3.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\ttransactionResult = void 0;\n\t\t\t\t\t\t\t\t_context3.prev = 1;\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.bookId);\n\t\t\t\t\t\t\t\t_context3.next = 8;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\t_context3.prev = 5;\n\t\t\t\t\t\t\t\t_context3.t0 = _context3['catch'](1);\n\t\t\t\t\t\t\t\tthrow new Error('Book ' + _context3.t0);\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t_context3.prev = 8;\n\n\t\t\t\t\t\t\t\t(0, _commonValidator.validateId)(req.params.memberId);\n\t\t\t\t\t\t\t\t_context3.next = 15;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\t\t_context3.prev = 12;\n\t\t\t\t\t\t\t\t_context3.t1 = _context3['catch'](8);\n\t\t\t\t\t\t\t\tthrow new Error('Member ' + _context3.t1);\n\n\t\t\t\t\t\t\tcase 15:\n\t\t\t\t\t\t\t\tif (!(req.body.transactionType === 'BORROW')) {\n\t\t\t\t\t\t\t\t\t_context3.next = 22;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context3.next = 18;\n\t\t\t\t\t\t\t\treturn this.borrowBook(req);\n\n\t\t\t\t\t\t\tcase 18:\n\t\t\t\t\t\t\t\ttransactionResult = _context3.sent;\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', transactionResult);\n\n\t\t\t\t\t\t\tcase 22:\n\t\t\t\t\t\t\t\tif (!(req.body.transactionType === 'RETURN')) {\n\t\t\t\t\t\t\t\t\t_context3.next = 29;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context3.next = 25;\n\t\t\t\t\t\t\t\treturn this.returnBook(req);\n\n\t\t\t\t\t\t\tcase 25:\n\t\t\t\t\t\t\t\ttransactionResult = _context3.sent;\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', transactionResult);\n\n\t\t\t\t\t\t\tcase 29:\n\t\t\t\t\t\t\t\treturn _context3.abrupt('return', {\n\t\t\t\t\t\t\t\t\tstatus: _httpStatusCodes2.default.BAD_REQUEST,\n\t\t\t\t\t\t\t\t\tresult: 'Missing or invalid transaction type. Specify either BORROW or RETURN as type. Should be a string.'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 30:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context3.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee3, this, [[1, 5], [8, 12]]);\n\t\t\t}));\n\n\t\t\tfunction handleBookTransactions(_x3) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn handleBookTransactions;\n\t\t}()\n\t}]);\n\n\treturn BookTransactions;\n}();\n\nvar bookTransactionsInstance = new BookTransactions();\n\nexports.default = bookTransactionsInstance;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9naWMvYm9va1RyYW5zYWN0aW9ucy5qcz9iODg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXF1ZWxpemUgZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZGIvZGIuanMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IEh0dHBTdGF0dXMgZnJvbSAnaHR0cC1zdGF0dXMtY29kZXMnO1xuaW1wb3J0IEJvb2tGdW5jdGlvbnMgZnJvbSAnLi4vbG9naWMvYm9vay5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUlkIH0gZnJvbSAnLi4vdmFsaWRhdG9ycy9jb21tb25WYWxpZGF0b3IuanMnO1xuXG5jbGFzcyBCb29rVHJhbnNhY3Rpb25zIHtcblxuXHRjb25zdHJ1Y3RvciAoKSB7XG5cdFx0dGhpcy5ib3Jyb3dCb29rID0gdGhpcy5ib3Jyb3dCb29rLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5yZXR1cm5Cb29rID0gdGhpcy5yZXR1cm5Cb29rLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5oYW5kbGVCb29rVHJhbnNhY3Rpb25zID0gdGhpcy5oYW5kbGVCb29rVHJhbnNhY3Rpb25zLmJpbmQodGhpcyk7XG5cdH1cblxuXHRhc3luYyBib3Jyb3dCb29rIChyZXEpIHtcblxuXHRcdGNvbnN0IGJvb2tJZCA9IHJlcS5wYXJhbXMuYm9va0lkO1xuXHRcdGNvbnN0IG1lbWJlcklkID0gcmVxLnBhcmFtcy5tZW1iZXJJZDtcblxuXHRcdGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIubWVtYmVyLmZpbmRPbmUoe1xuXHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0aWQ6IG1lbWJlcklkLFxuXHRcdFx0XHR1blJlZ2lzdGVyZWRZTjogeyBbU2VxdWVsaXplLk9wLmVxXTogZmFsc2UgfSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRpZiAoIWV4aXN0aW5nTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELFxuXHRcdFx0XHRyZXN1bHQ6IGBZb3UgbXVzdCBiZSBhIHJlZ2lzdGVyZWQgbWVtYmVyIHRvIGJvcnJvdyB0aGlzIGJvb2suIFBsZWFzZSByZWdpc3RlciBmaXJzdC5gLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBib29rQXZhaWxhYmlsaXR5ID0gYXdhaXQgQm9va0Z1bmN0aW9ucy5jaGVja0Jvb2tBdmFpbGFiaWxpdHkoYm9va0lkKTtcblxuXHRcdFx0aWYgKGJvb2tBdmFpbGFiaWxpdHkgPT09IHRydWUpIHtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Y29uc3QgYm9vayA9IGF3YWl0IGRiLmJvb2suZmluZE9uZSh7XG5cdFx0XHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdFx0XHRpZDogYm9va0lkLFxuXHRcdFx0XHRcdFx0XHRkZWxldGVkOiB7IFtTZXF1ZWxpemUuT3AubmVdOiB0cnVlIH0sXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0YXdhaXQgZGIuYm9vay51cGRhdGUoe1xuXHRcdFx0XHRcdFx0bm9PZkJvb2tzQXZhaWxhYmxlOiBib29rLm5vT2ZCb29rc0F2YWlsYWJsZSAtIDEsXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRcdFx0aWQ6IGJvb2tJZCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRhd2FpdCBkYi5tZW1iZXIudXBkYXRlKHtcblx0XHRcdFx0XHRcdG5vT2ZCb29rc1Rha2VuOiBleGlzdGluZ01lbWJlci5ub09mQm9va3NUYWtlbiArIDEsXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRcdFx0aWQ6IG1lbWJlcklkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG5cdFx0XHRcdFx0XHRyZXN1bHQ6ICdPbmUgY29weSBvZiB0aGUgcmVxdWVzdGVkIGJvb2sgaGFzIGJlZW4gbGVudCB0byB5b3UuJyxcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2ggKGVycm9yKSB7XG5cblx0XHRcdFx0XHRsb2dnZXIuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuXHRcdFx0XHRcdFx0cmVzdWx0OiAnVW5hYmxlIHRvIGxlbmQgdGhpcyBib29rIGF0IHRoZSBtb21lbnQgZHVlIHRvIHRlY2huaWNhbCBpc3N1ZXMuJyxcblx0XHRcdFx0XHRcdGVycm9yLFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoYm9va0F2YWlsYWJpbGl0eSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuTk9UX0ZPVU5ELFxuXHRcdFx0XHRcdHJlc3VsdDogJ1RoaXMgYm9vayBpcyBub3QgYXZhaWxhYmxlIGF0IHRoZSBtb21lbnQuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0XHRcdFx0cmVzdWx0OiAnVW5hYmxlIHRvIGxlbmQgdGhpcyBib29rIGF0IHRoZSBtb21lbnQgZHVlIHRvIHRlY2huaWNhbCBpc3N1ZXMuJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyByZXR1cm5Cb29rIChyZXEpIHtcblxuXHRcdGNvbnN0IGJvb2tJZCA9IHJlcS5wYXJhbXMuYm9va0lkO1xuXHRcdGNvbnN0IG1lbWJlcklkID0gcmVxLnBhcmFtcy5tZW1iZXJJZDtcblxuXHRcdHRyeSB7XG5cblx0XHRcdGNvbnN0IGJvb2sgPSBhd2FpdCBkYi5ib29rLmZpbmRPbmUoe1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGlkOiBib29rSWQsXG5cdFx0XHRcdFx0ZGVsZXRlZDogeyBbU2VxdWVsaXplLk9wLm5lXTogdHJ1ZSB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIubWVtYmVyLmZpbmRPbmUoe1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGlkOiBtZW1iZXJJZCxcblx0XHRcdFx0XHR1blJlZ2lzdGVyZWRZTjogeyBbU2VxdWVsaXplLk9wLm5lXTogdHJ1ZSB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICghZXhpc3RpbmdNZW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVELFxuXHRcdFx0XHRcdHJlc3VsdDogYFlvdSBtdXN0IGJlIGEgcmVnaXN0ZXJlZCBtZW1iZXIgdG8gcmV0dXJuIGEgYm9vay4gUGxlYXNlIHJlZ2lzdGVyIGZpcnN0LmAsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmICghYm9vaykge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcblx0XHRcdFx0XHRyZXN1bHQ6ICdXZSBkaWQgbm90IGxlbmQgeW91IHRoaXMgYm9vay4gUGxlYXNlIGNoZWNrLicsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChleGlzdGluZ01lbWJlci5ub09mQm9va3NUYWtlbiA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcblx0XHRcdFx0XHRyZXN1bHQ6ICdZb3VcXCd2ZSByZXR1cm5lZCBhbGwgeW91ciBib29rcyBhbHJlYWR5LiBQbGVhc2UgY2hlY2suJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgZGIuYm9vay51cGRhdGUoe1xuXHRcdFx0XHRub09mQm9va3NBdmFpbGFibGU6IGJvb2subm9PZkJvb2tzQXZhaWxhYmxlICsgMSxcblx0XHRcdH0sIHtcblx0XHRcdFx0d2hlcmU6IHtcblx0XHRcdFx0XHRpZDogYm9va0lkLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGF3YWl0IGRiLm1lbWJlci51cGRhdGUoe1xuXHRcdFx0XHRub09mQm9va3NUYWtlbjogZXhpc3RpbmdNZW1iZXIubm9PZkJvb2tzVGFrZW4gLSAxLFxuXHRcdFx0fSwge1xuXHRcdFx0XHR3aGVyZToge1xuXHRcdFx0XHRcdGlkOiBtZW1iZXJJZCxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG5cdFx0XHRcdHJlc3VsdDogJ1RoZSByZXR1cm4gb2YgeW91ciBib29rIGhhcyBiZWVuIGFjY2VwdGVkLicsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXG5cdFx0XHRsb2dnZXIuZXJyb3IoZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3RhdHVzOiBIdHRwU3RhdHVzLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcblx0XHRcdFx0cmVzdWx0OiAnVW5hYmxlIHRvIGFjY2VwdCB0aGlzIGJvb2sgYXQgdGhlIG1vbWVudCBkdWUgdG8gdGVjaG5pY2FsIGlzc3Vlcy4nLFxuXHRcdFx0XHRlcnJvcixcblx0XHRcdH07XG5cblx0XHR9XG5cdH1cblxuXHRhc3luYyBoYW5kbGVCb29rVHJhbnNhY3Rpb25zIChyZXEpIHtcblxuXHRcdGxldCB0cmFuc2FjdGlvblJlc3VsdDtcblxuXHRcdHRyeSB7XG5cdFx0XHR2YWxpZGF0ZUlkKHJlcS5wYXJhbXMuYm9va0lkKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IgKCdCb29rICcgKyBlcnJvcik7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHZhbGlkYXRlSWQocmVxLnBhcmFtcy5tZW1iZXJJZCk7XG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yICgnTWVtYmVyICcgKyBlcnJvcik7XG5cdFx0fVxuXG5cdFx0aWYgKHJlcS5ib2R5LnRyYW5zYWN0aW9uVHlwZSA9PT0gJ0JPUlJPVycpIHtcblxuXHRcdFx0dHJhbnNhY3Rpb25SZXN1bHQgPSBhd2FpdCB0aGlzLmJvcnJvd0Jvb2socmVxKTtcblx0XHRcdHJldHVybiB0cmFuc2FjdGlvblJlc3VsdDtcblxuXHRcdH1cblx0XHRlbHNlIGlmIChyZXEuYm9keS50cmFuc2FjdGlvblR5cGUgPT09ICdSRVRVUk4nKSB7XG5cblx0XHRcdHRyYW5zYWN0aW9uUmVzdWx0ID0gYXdhaXQgdGhpcy5yZXR1cm5Cb29rKHJlcSk7XG5cdFx0XHRyZXR1cm4gdHJhbnNhY3Rpb25SZXN1bHQ7XG5cblx0XHR9XG5cdFx0ZWxzZSB7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcblx0XHRcdFx0cmVzdWx0OiAnTWlzc2luZyBvciBpbnZhbGlkIHRyYW5zYWN0aW9uIHR5cGUuIFNwZWNpZnkgZWl0aGVyIEJPUlJPVyBvciBSRVRVUk4gYXMgdHlwZS4gU2hvdWxkIGJlIGEgc3RyaW5nLicsXG5cdFx0XHR9O1xuXG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IGJvb2tUcmFuc2FjdGlvbnNJbnN0YW5jZSA9IG5ldyBCb29rVHJhbnNhY3Rpb25zKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGJvb2tUcmFuc2FjdGlvbnNJbnN0YW5jZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsb2dpYy9ib29rVHJhbnNhY3Rpb25zLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTs7QUFEQTtBQUNBO0FBTUE7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7O0FBS0E7QUFDQTs7QUFEQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTs7QUFEQTs7QUFPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFEQTtBQUNBOzs7QUFLQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFEQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBOzs7Ozs7QUFPQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BOzs7Ozs7QUFFQTtBQUNBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTs7QUFEQTs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTs7QUFEQTtBQUNBO0FBTUE7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7QUFLQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBOztBQUtBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7OztBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7OztBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7O0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBOzs7Ozs7QUFFQTs7O0FBR0E7Ozs7Ozs7QUFHQTtBQUNBOzs7O0FBR0E7Ozs7Ozs7QUFHQTtBQUNBOztBQUVBOzs7Ozs7QUFFQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7O0FBRUE7QUFDQTs7QUFEQTtBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"body-parser\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26\n");

/***/ })
/******/ ]);